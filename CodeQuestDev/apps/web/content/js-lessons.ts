// CodeQuest - JavaScript Learning Content
// Curso completo em Portugu√™s com m√≥dulos bem categorizados

import { LearningModule } from './lessons';

// ============================================
// M√ìDULO 1: FUNDAMENTOS JAVASCRIPT
// ============================================

export const JS_FUNDAMENTOS: LearningModule = {
    id: 'js-fundamentos',
    name: 'Fundamentos JavaScript',
    description: 'Aprenda a base do JavaScript: sintaxe, vari√°veis e operadores',
    icon: '‚ö°',
    difficulty: 'beginner',
    lessons: [
        {
            id: 'intro-js',
            title: 'Introdu√ß√£o ao JavaScript',
            description: 'O que √© JavaScript, o que ele pode fazer e como us√°-lo',
            xpReward: 150,
            estimatedTime: 25,
            content: {
                introduction: 'JavaScript √© a linguagem de programa√ß√£o mais popular da web. Ela permite criar p√°ginas interativas e din√¢micas, manipular elementos HTML, alterar estilos CSS e responder a a√ß√µes do usu√°rio em tempo real. Criada por Brendan Eich em 1995, hoje JavaScript pode rodar tanto no navegador quanto em servidores usando Node.js.',
                sections: [
                    {
                        title: 'O que √© JavaScript?',
                        text: 'JavaScript (JS) √© uma linguagem de programa√ß√£o de alto n√≠vel, interpretada e din√¢mica. √â a linguagem padr√£o para desenvolvimento web, rodando em todos os navegadores modernos. JavaScript pode calcular, manipular e validar dados, al√©m de atualizar e modificar tanto HTML quanto CSS dinamicamente. Junto com HTML (estrutura) e CSS (estilo), JavaScript forma a tr√≠ade fundamental do desenvolvimento front-end.',
                        code: '// JavaScript pode fazer muitas coisas:\n// 1. Manipular HTML\ndocument.getElementById("titulo").innerHTML = "Novo T√≠tulo";\n\n// 2. Alterar CSS\ndocument.getElementById("texto").style.color = "blue";\n\n// 3. Responder a eventos\ndocument.getElementById("botao").onclick = function() {\n  alert("Clicou!");\n};',
                    },
                    {
                        title: 'JavaScript Pode Mudar Conte√∫do HTML',
                        text: 'Um dos m√©todos JavaScript HTML mais usados √© getElementById(). Este m√©todo encontra um elemento pelo seu id e permite modificar seu conte√∫do usando innerHTML. JavaScript aceita tanto aspas duplas quanto simples para strings, tornando-o flex√≠vel para diferentes situa√ß√µes.',
                        code: '// Mudando o conte√∫do de um elemento\ndocument.getElementById("demo").innerHTML = "Ol√° JavaScript!";\n\n// Usando aspas simples (tamb√©m funciona)\ndocument.getElementById(\'demo\').innerHTML = \'Ol√° JavaScript!\';\n\n// Adicionando HTML dinamicamente\ndocument.getElementById("lista").innerHTML = "<li>Item 1</li><li>Item 2</li>";',
                    },
                    {
                        title: 'JavaScript Pode Mudar Estilos CSS',
                        text: 'Alterar o estilo de um elemento HTML √© uma varia√ß√£o de alterar um atributo HTML. Com JavaScript voc√™ pode modificar qualquer propriedade CSS de um elemento, criando efeitos visuais din√¢micos sem precisar recarregar a p√°gina.',
                        code: '// Mudando a cor do texto\ndocument.getElementById("titulo").style.color = "red";\n\n// Mudando o tamanho da fonte\ndocument.getElementById("texto").style.fontSize = "24px";\n\n// M√∫ltiplas propriedades\nconst elemento = document.getElementById("caixa");\nelemento.style.backgroundColor = "#3498db";\nelemento.style.padding = "20px";\nelemento.style.borderRadius = "10px";',
                    },
                    {
                        title: 'JavaScript Pode Mostrar e Esconder Elementos',
                        text: 'JavaScript pode controlar a visibilidade de elementos usando a propriedade display do CSS. Isso √© muito √∫til para criar menus dropdown, modais, abas e conte√∫do que aparece/desaparece baseado em a√ß√µes do usu√°rio.',
                        code: '// Escondendo um elemento\ndocument.getElementById("popup").style.display = "none";\n\n// Mostrando um elemento\ndocument.getElementById("popup").style.display = "block";\n\n// Fun√ß√£o para alternar visibilidade\nfunction toggleMenu() {\n  const menu = document.getElementById("menu");\n  if (menu.style.display === "none") {\n    menu.style.display = "block";\n  } else {\n    menu.style.display = "none";\n  }\n}',
                    },
                    {
                        title: 'JavaScript no HTML',
                        text: 'JavaScript pode ser adicionado ao HTML de duas formas: inline com a tag <script> ou em arquivo externo. A tag <script> pode conter c√≥digo JavaScript diretamente ou referenciar um arquivo .js externo. Para projetos maiores, sempre prefira arquivos externos pois permitem cache, reutiliza√ß√£o e melhor organiza√ß√£o.',
                        code: '<!-- Script interno (inline) -->\n<script>\n  console.log("Ol√° do script interno!");\n  alert("Bem-vindo!");\n</script>\n\n<!-- Script externo (recomendado) -->\n<script src="js/app.js"></script>\n\n<!-- M√∫ltiplos arquivos -->\n<script src="js/utils.js"></script>\n<script src="js/main.js"></script>',
                    },
                    {
                        title: 'Onde Colocar o Script',
                        text: 'Scripts podem ser colocados no <head> ou no <body>. Colocar scripts no final do <body> √© a pr√°tica mais comum pois permite que o HTML carregue primeiro. Alternativamente, use o atributo defer para carregar scripts no head sem bloquear o carregamento da p√°gina. O atributo async carrega o script em paralelo e executa assim que estiver pronto.',
                        code: '<!-- NO HEAD com defer (recomendado para scripts externos) -->\n<head>\n  <script src="app.js" defer></script>\n</head>\n\n<!-- NO FINAL DO BODY (m√©todo tradicional) -->\n<body>\n  <h1>Meu Site</h1>\n  <p>Conte√∫do...</p>\n  \n  <!-- Scripts aqui, ap√≥s todo o HTML -->\n  <script src="app.js"></script>\n</body>\n\n<!-- async vs defer:\n     async: executa assim que carrega (ordem n√£o garantida)\n     defer: executa ap√≥s HTML carregar (mant√©m ordem) -->',
                    },
                    {
                        title: 'Console do Navegador',
                        text: 'O console √© uma ferramenta essencial para desenvolvimento JavaScript. Use console.log() para debug e exibir valores, console.warn() para avisos (amarelo), console.error() para erros (vermelho), e console.table() para exibir dados em formato de tabela. Acesse o console pressionando F12 no navegador.',
                        code: '// Mensagem b√°sica\nconsole.log("Ol√°, desenvolvedor!");\n\n// Exibindo vari√°veis\nconst nome = "Maria";\nconst idade = 25;\nconsole.log("Nome:", nome, "Idade:", idade);\n\n// Tipos de mensagem\nconsole.warn("‚ö†Ô∏è Aten√ß√£o: valor pode ser nulo");\nconsole.error("‚ùå Erro: arquivo n√£o encontrado");\nconsole.info("‚ÑπÔ∏è Vers√£o 1.0.0");\n\n// Exibindo objetos/arrays como tabela\nconst usuarios = [{nome: "Ana", idade: 20}, {nome: "Jo√£o", idade: 25}];\nconsole.table(usuarios);',
                    },
                    {
                        title: 'JavaScript vs Java',
                        text: 'Apesar do nome similar, JavaScript e Java s√£o linguagens completamente diferentes em conceito e design. JavaScript foi criado por Brendan Eich em 1995 na Netscape. Em 1997, tornou-se padr√£o ECMA com o nome oficial ECMAScript. JavaScript √© interpretado, din√¢mico e tipado dinamicamente; Java √© compilado, orientado a objetos e tipado estaticamente.',
                        code: '// JavaScript: linguagem din√¢mica\nlet x = 10;        // n√∫mero\nx = "texto";       // agora √© string (tipagem din√¢mica)\nx = [1, 2, 3];     // agora √© array\n\n// JavaScript moderno (ES6+)\nconst somar = (a, b) => a + b;  // arrow function\nconst { nome, idade } = pessoa; // destructuring\nconst template = `Nome: ${nome}`; // template literals',
                    },
                ],
                tips: [
                    'Sempre use o console (F12) para debug e entender erros',
                    'Prefira scripts externos e use defer no head',
                    'Mantenha JavaScript separado do HTML para melhor organiza√ß√£o',
                    'Teste seu c√≥digo em diferentes navegadores',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual tag √© usada para adicionar JavaScript ao HTML?',
                    options: ['<javascript>', '<js>', '<script>', '<code>'],
                    correctAnswer: 2,
                    explanation: 'A tag <script> √© usada para incluir JavaScript no HTML',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'Qual comando exibe mensagens no console?',
                    options: ['print()', 'echo()', 'console.log()', 'display()'],
                    correctAnswer: 2,
                    explanation: 'console.log() √© o m√©todo padr√£o para exibir no console',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'true-false',
                    question: 'JavaScript s√≥ funciona em navegadores',
                    correctAnswer: 'false',
                    explanation: 'JavaScript tamb√©m roda em servidores com Node.js',
                    points: 10,
                },
                {
                    id: 'q4',
                    type: 'fill-blank',
                    question: 'Complete: <script src="app.____"></script>',
                    correctAnswer: 'js',
                    explanation: 'Arquivos JavaScript usam a extens√£o .js',
                    points: 15,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Onde √© recomendado colocar o <script>?',
                    options: ['No in√≠cio do head', 'No final do body', 'Antes do DOCTYPE', 'No meio do body'],
                    correctAnswer: 1,
                    explanation: 'Final do body permite que o HTML carregue primeiro',
                    points: 10,
                },
                {
                    id: 'q6',
                    type: 'multiple-choice',
                    question: 'O que o atributo defer faz no script?',
                    options: ['Atrasa o carregamento', 'Executa ap√≥s o HTML carregar', 'Remove o script', 'Executa imediatamente'],
                    correctAnswer: 1,
                    explanation: 'defer faz o script executar depois que o HTML √© parseado',
                    points: 10,
                },
                {
                    id: 'q7',
                    type: 'true-false',
                    question: 'console.error() exibe mensagens de erro no console',
                    correctAnswer: 'true',
                    explanation: 'console.error() √© usado para exibir erros com formata√ß√£o vermelha',
                    points: 10,
                },
                {
                    id: 'q8',
                    type: 'multiple-choice',
                    question: 'Em que ano JavaScript foi criado?',
                    options: ['1990', '1995', '2000', '2005'],
                    correctAnswer: 1,
                    explanation: 'JavaScript foi criado por Brendan Eich em 1995 na Netscape',
                    points: 15,
                },
                {
                    id: 'q9',
                    type: 'fill-blank',
                    question: 'Complete: console.____("Aviso importante")',
                    correctAnswer: 'warn',
                    explanation: 'console.warn() exibe avisos com destaque amarelo no console',
                    points: 15,
                },
                {
                    id: 'q10',
                    type: 'multiple-choice',
                    question: 'Qual √© a diferen√ßa entre async e defer?',
                    options: ['S√£o iguais', 'async bloqueia, defer n√£o', 'async executa assim que carrega, defer espera o HTML', 'defer √© mais r√°pido'],
                    correctAnswer: 2,
                    explanation: 'async executa imediatamente ap√≥s carregar; defer espera o HTML terminar',
                    points: 15,
                },
            ],
        },

        {
            id: 'variaveis-js',
            title: 'Vari√°veis em JavaScript',
            description: 'let, const e var - declara√ß√£o, escopo e boas pr√°ticas',
            xpReward: 150,
            estimatedTime: 25,
            content: {
                introduction: 'Vari√°veis s√£o containers para armazenar valores de dados. Em JavaScript moderno, usamos let e const para declarar vari√°veis. Entender quando usar cada uma e como funciona o escopo √© fundamental para escrever c√≥digo limpo e evitar bugs dif√≠ceis de encontrar.',
                sections: [
                    {
                        title: 'Declarando Vari√°veis com let',
                        text: 'let √© a forma moderna de declarar vari√°veis que podem ter seu valor alterado. Use let quando voc√™ precisa de uma vari√°vel cujo valor vai mudar durante a execu√ß√£o do programa, como contadores, acumuladores ou estados.',
                        code: '// Declara√ß√£o b√°sica\nlet nome = "Maria";\nlet idade = 25;\nlet ativo = true;\n\n// Reatribui√ß√£o (mudar o valor)\nnome = "Jo√£o";      // OK!\nidade = idade + 1;  // OK!\nativo = false;      // OK!\n\n// Declarar sem valor inicial (undefined)\nlet resultado;\nconsole.log(resultado); // undefined\nresultado = 42;',
                    },
                    {
                        title: 'Declarando Constantes com const',
                        text: 'const √© usada para declarar valores que N√ÉO devem ser reatribu√≠dos. Use const como padr√£o e s√≥ mude para let quando realmente precisar alterar o valor. Isso torna o c√≥digo mais previs√≠vel e evita bugs acidentais.',
                        code: '// Constantes (valores fixos)\nconst PI = 3.14159;\nconst URL_API = "https://api.exemplo.com";\nconst MAX_TENTATIVAS = 3;\n\n// Erro! N√£o pode reatribuir const\n// PI = 3.14; // TypeError!\n\n// ATEN√á√ÉO: const com objetos e arrays\nconst usuario = { nome: "Ana", idade: 20 };\nusuario.idade = 21;  // OK! Modifica propriedade\n// usuario = {};     // Erro! N√£o pode reatribuir\n\nconst numeros = [1, 2, 3];\nnumeros.push(4);     // OK! [1, 2, 3, 4]\n// numeros = [];     // Erro! N√£o pode reatribuir',
                    },
                    {
                        title: 'Por que Evitar var',
                        text: 'var √© a forma antiga de declarar vari√°veis e tem comportamentos problem√°ticos: n√£o respeita escopo de bloco, permite redeclara√ß√£o e sofre hoisting de forma confusa. Em c√≥digo moderno, sempre prefira let e const.',
                        code: '// Problema 1: var n√£o respeita escopo de bloco\nif (true) {\n  var x = 10;  // "vaza" para fora do if\n  let y = 20;  // fica apenas dentro do if\n}\nconsole.log(x); // 10 (problem√°tico!)\n// console.log(y); // Erro: y is not defined (correto!)\n\n// Problema 2: var permite redeclara√ß√£o\nvar nome = "Ana";\nvar nome = "Jo√£o"; // OK com var (bug f√°cil!)\n\nlet sobrenome = "Silva";\n// let sobrenome = "Santos"; // Erro! (prote√ß√£o contra bugs)',
                    },
                    {
                        title: 'Escopo de Vari√°veis',
                        text: 'Escopo define onde uma vari√°vel pode ser acessada. let e const t√™m escopo de bloco (dentro de {}), enquanto var tem escopo de fun√ß√£o. Vari√°veis declaradas fora de fun√ß√µes s√£o globais e podem ser acessadas em qualquer lugar.',
                        code: '// Escopo Global\nconst GLOBAL = "acess√≠vel em todo lugar";\n\nfunction exemplo() {\n  // Escopo de Fun√ß√£o\n  const local = "s√≥ dentro da fun√ß√£o";\n  \n  if (true) {\n    // Escopo de Bloco\n    let bloco = "s√≥ dentro do if";\n    console.log(GLOBAL); // OK\n    console.log(local);  // OK\n    console.log(bloco);  // OK\n  }\n  \n  console.log(GLOBAL); // OK\n  console.log(local);  // OK\n  // console.log(bloco); // Erro! Fora do escopo\n}\n\nconsole.log(GLOBAL); // OK\n// console.log(local); // Erro! Fora da fun√ß√£o',
                    },
                    {
                        title: 'Hoisting (Eleva√ß√£o)',
                        text: 'Hoisting √© um comportamento do JavaScript onde declara√ß√µes s√£o "elevadas" para o topo do escopo. Com var, a declara√ß√£o √© elevada mas n√£o o valor. Com let e const, existe uma "zona morta temporal" onde a vari√°vel existe mas n√£o pode ser acessada.',
                        code: '// Hoisting com var (confuso!)\nconsole.log(x); // undefined (n√£o erro!)\nvar x = 5;\n\n// Hoisting com let (mais seguro)\n// console.log(y); // Erro: Cannot access before initialization\nlet y = 5;\n\n// Hoisting de fun√ß√µes\nsaudacao(); // Funciona! "Ol√°"\nfunction saudacao() {\n  console.log("Ol√°");\n}\n\n// Arrow functions n√£o sofrem hoisting\n// despedida(); // Erro!\nconst despedida = () => console.log("Tchau");',
                    },
                    {
                        title: 'Tipos de Dados',
                        text: 'JavaScript √© dinamicamente tipado: uma vari√°vel pode armazenar qualquer tipo de valor. Os tipos primitivos s√£o: string, number, boolean, undefined, null, symbol e bigint. Tipos complexos incluem objects e arrays.',
                        code: '// Tipos Primitivos\nlet texto = "Ol√°";           // string\nlet numero = 42;             // number\nlet decimal = 3.14;          // number\nlet verdade = true;          // boolean\nlet vazio = null;            // null (aus√™ncia intencional)\nlet indefinido;              // undefined (n√£o atribu√≠do)\n\n// Tipos Complexos\nlet pessoa = {               // object\n  nome: "Ana",\n  idade: 25\n};\nlet cores = ["vermelho", "azul"]; // array (√© um object)\n\n// Verificando tipo\nconsole.log(typeof texto);   // "string"\nconsole.log(typeof numero);  // "number"\nconsole.log(typeof pessoa);  // "object"\nconsole.log(typeof cores);   // "object" (arrays s√£o objetos!)',
                    },
                    {
                        title: 'Regras de Nomenclatura',
                        text: 'Nomes de vari√°veis devem come√ßar com letra, $ ou _. Use camelCase para vari√°veis e fun√ß√µes, UPPER_SNAKE_CASE para constantes globais, e PascalCase para classes. Escolha nomes descritivos que expliquem o prop√≥sito da vari√°vel.',
                        code: '// camelCase para vari√°veis e fun√ß√µes\nlet nomeCompleto = "Maria Silva";\nlet idadeUsuario = 25;\nfunction calcularTotal() { }\n\n// UPPER_SNAKE_CASE para constantes globais\nconst MAX_TENTATIVAS = 3;\nconst API_URL = "https://api.com";\nconst SEGUNDOS_POR_HORA = 3600;\n\n// PascalCase para classes/construtores\nclass Usuario { }\nclass CarrinhoDeCompras { }\n\n// Nomes v√°lidos\nlet _privado = "interno";\nlet $jquery = null;\nlet nome2 = "ok";\n\n// Nomes INV√ÅLIDOS\n// let 2nome = "erro";    // n√£o pode come√ßar com n√∫mero\n// let meu-nome = "erro"; // h√≠fen n√£o permitido\n// let let = "erro";      // palavra reservada',
                    },
                ],
                tips: [
                    'Use const por padr√£o, s√≥ mude para let quando precisar',
                    'Nunca use var em c√≥digo moderno',
                    'Declare vari√°veis o mais pr√≥ximo poss√≠vel de onde ser√£o usadas',
                    'Escolha nomes descritivos: precoProduto √© melhor que p',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual palavra-chave √© usada para constantes?',
                    options: ['let', 'var', 'const', 'constant'],
                    correctAnswer: 2,
                    explanation: 'const √© usada para declarar constantes',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'Qual conven√ß√£o de nomenclatura √© padr√£o em JavaScript?',
                    options: ['snake_case', 'camelCase', 'PascalCase', 'kebab-case'],
                    correctAnswer: 1,
                    explanation: 'camelCase √© a conven√ß√£o padr√£o para vari√°veis em JS',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'true-false',
                    question: 'const permite reatribui√ß√£o de valor',
                    correctAnswer: 'false',
                    explanation: 'const n√£o permite reatribui√ß√£o ap√≥s a declara√ß√£o',
                    points: 10,
                },
                {
                    id: 'q4',
                    type: 'fill-blank',
                    question: 'Complete: ____ nome = "Jo√£o";',
                    correctAnswer: 'let',
                    explanation: 'let √© usado para vari√°veis que podem mudar',
                    points: 15,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Por que evitar var?',
                    options: ['√â muito lento', 'Tem escopo confuso', 'N√£o funciona mais', 'Ocupa mais mem√≥ria'],
                    correctAnswer: 1,
                    explanation: 'var tem escopo de fun√ß√£o, n√£o de bloco, causando bugs',
                    points: 10,
                },
                {
                    id: 'q6',
                    type: 'multiple-choice',
                    question: 'Qual √© v√°lido como nome de vari√°vel?',
                    options: ['2nome', 'nome-completo', '_nome', 'nome completo'],
                    correctAnswer: 2,
                    explanation: 'Vari√°veis podem come√ßar com _, $ ou letra, n√£o n√∫mero ou h√≠fen',
                    points: 10,
                },
                {
                    id: 'q7',
                    type: 'true-false',
                    question: 'const com objeto permite alterar propriedades do objeto',
                    correctAnswer: 'true',
                    explanation: 'const impede reatribui√ß√£o, mas propriedades de objetos podem ser alteradas',
                    points: 15,
                },
                {
                    id: 'q8',
                    type: 'fill-blank',
                    question: 'Complete: ____  PI = 3.14159; (n√£o pode mudar)',
                    correctAnswer: 'const',
                    explanation: 'const √© usado para valores que n√£o devem mudar',
                    points: 15,
                },
                {
                    id: 'q9',
                    type: 'multiple-choice',
                    question: 'Qual escopo tem let?',
                    options: ['Global', 'Fun√ß√£o', 'Bloco', 'M√≥dulo'],
                    correctAnswer: 2,
                    explanation: 'let tem escopo de bloco (dentro de { })',
                    points: 10,
                },
                {
                    id: 'q10',
                    type: 'multiple-choice',
                    question: 'O que √© hoisting?',
                    options: ['Erro de JS', 'Eleva√ß√£o de declara√ß√µes', 'Tipo de loop', 'Fun√ß√£o async'],
                    correctAnswer: 1,
                    explanation: 'Hoisting eleva declara√ß√µes (var, function) ao topo do escopo',
                    points: 15,
                },
            ],
        },

        {
            id: 'operadores-js',
            title: 'Operadores em JavaScript',
            description: 'Aritm√©ticos, compara√ß√£o, l√≥gicos e atribui√ß√£o',
            xpReward: 150,
            estimatedTime: 25,
            content: {
                introduction: 'Operadores s√£o s√≠mbolos que realizam opera√ß√µes em valores e vari√°veis. JavaScript tem v√°rios tipos de operadores: aritm√©ticos para c√°lculos, de atribui√ß√£o para definir valores, de compara√ß√£o para condi√ß√µes, e l√≥gicos para combinar express√µes. Dominar operadores √© essencial para qualquer c√°lculo ou tomada de decis√£o no c√≥digo.',
                sections: [
                    {
                        title: 'Operadores Aritm√©ticos',
                        text: 'Operadores aritm√©ticos realizam c√°lculos matem√°ticos. Al√©m dos b√°sicos (+, -, *, /), JavaScript tem m√≥dulo (%) que retorna o resto da divis√£o, e exponencia√ß√£o (**) para pot√™ncias. O operador + tamb√©m concatena strings.',
                        code: '// Opera√ß√µes b√°sicas\nlet soma = 10 + 5;        // 15\nlet subtracao = 10 - 5;   // 5\nlet multiplicacao = 10 * 5; // 50\nlet divisao = 10 / 5;     // 2\n\n// M√≥dulo (resto da divis√£o)\nlet resto = 10 % 3;       // 1 (10 √∑ 3 = 3, resto 1)\nlet par = 8 % 2;          // 0 (n√∫mero par!)\n\n// Exponencia√ß√£o (pot√™ncia)\nlet potencia = 2 ** 3;    // 8 (2¬≥)\nlet raiz = 9 ** 0.5;      // 3 (raiz quadrada)\n\n// Concatena√ß√£o de strings\nlet nome = "Ana" + " " + "Silva"; // "Ana Silva"',
                    },
                    {
                        title: 'Incremento e Decremento',
                        text: '++ aumenta o valor em 1, -- diminui em 1. Podem ser usados antes (pr√©) ou depois (p√≥s) da vari√°vel. Pr√©-incremento retorna o novo valor, p√≥s-incremento retorna o valor antigo.',
                        code: 'let x = 5;\n\n// P√≥s-incremento (retorna valor antigo, depois incrementa)\nconsole.log(x++);  // 5 (exibe 5, depois x vira 6)\nconsole.log(x);    // 6\n\n// Pr√©-incremento (incrementa primeiro, depois retorna)\nconsole.log(++x);  // 7 (incrementa para 7, exibe 7)\n\n// Decremento funciona igual\nlet y = 10;\nconsole.log(y--);  // 10 (exibe 10, depois y vira 9)\nconsole.log(--y);  // 8  (decrementa para 8, exibe 8)',
                    },
                    {
                        title: 'Operadores de Atribui√ß√£o',
                        text: 'Operadores de atribui√ß√£o definem ou modificam valores. O b√°sico √© =. Os compostos (+=, -=, *=, etc.) combinam opera√ß√£o + atribui√ß√£o em um s√≥ passo, tornando o c√≥digo mais conciso.',
                        code: 'let x = 10;        // atribui√ß√£o b√°sica\n\n// Atribui√ß√£o composta\nx += 5;   // x = x + 5  ‚Üí 15\nx -= 3;   // x = x - 3  ‚Üí 12\nx *= 2;   // x = x * 2  ‚Üí 24\nx /= 4;   // x = x / 4  ‚Üí 6\nx %= 4;   // x = x % 4  ‚Üí 2\nx **= 3;  // x = x ** 3 ‚Üí 8\n\n// √ötil para acumuladores\nlet total = 0;\ntotal += 100;  // 100\ntotal += 50;   // 150\ntotal += 25;   // 175',
                    },
                    {
                        title: 'Operadores de Compara√ß√£o',
                        text: 'Operadores de compara√ß√£o retornam true ou false. Use === (igualdade estrita) que compara valor E tipo. Evite == (igualdade frouxa) que faz convers√£o autom√°tica de tipos, causando resultados inesperados.',
                        code: '// Igualdade estrita (=== e !==) - RECOMENDADO\n5 === 5      // true (mesmo valor e tipo)\n5 === "5"    // false (n√∫mero vs string)\n5 !== 3      // true (s√£o diferentes)\n\n// Igualdade frouxa (== e !=) - EVITE\n5 == "5"     // true (converte tipos - perigoso!)\nnull == undefined // true (comportamento estranho)\n\n// Maior/Menor\n10 > 5       // true\n10 >= 10     // true\n5 < 10       // true\n5 <= 5       // true\n\n// Compara√ß√£o de strings (ordem alfab√©tica)\n"banana" > "abacaxi"  // true (b vem depois de a)',
                    },
                    {
                        title: 'Operadores L√≥gicos',
                        text: 'Operadores l√≥gicos combinam express√µes booleanas. && (AND) retorna true se AMBOS forem true. || (OR) retorna true se PELO MENOS UM for true. ! (NOT) inverte o valor. Muito usados em condicionais.',
                        code: '// AND (&&) - ambos devem ser true\nconst idade = 25;\nconst temCNH = true;\nconst podeAlugarCarro = idade >= 21 && temCNH; // true\n\n// OR (||) - pelo menos um true\nconst ehAdmin = false;\nconst ehModerador = true;\nconst temAcesso = ehAdmin || ehModerador; // true\n\n// NOT (!) - inverte\nconst logado = false;\nconst mostrarLogin = !logado; // true\n\n// Combinando operadores\nconst valido = (idade >= 18) && (temCNH || ehAdmin);\n\n// Short-circuit (atalho)\nconst nome = usuario && usuario.nome; // se usuario existir\nconst padrao = valor || "valor padr√£o"; // se valor for falsy',
                    },
                    {
                        title: 'Operador Tern√°rio',
                        text: 'O operador tern√°rio ( ? : ) √© uma forma compacta de if-else. Sintaxe: condi√ß√£o ? valorSeTrue : valorSeFalse. √ötil para atribui√ß√µes simples baseadas em condi√ß√£o. Evite aninhar m√∫ltiplos tern√°rios pois fica dif√≠cil de ler.',
                        code: '// Sintaxe: condi√ß√£o ? valorSeTrue : valorSeFalse\nconst idade = 20;\nconst status = idade >= 18 ? "adulto" : "menor";\nconsole.log(status); // "adulto"\n\n// Equivalente com if-else\nlet status2;\nif (idade >= 18) {\n  status2 = "adulto";\n} else {\n  status2 = "menor";\n}\n\n// Uso pr√°tico\nconst saudacao = hora < 12 ? "Bom dia" : "Boa tarde";\nconst plural = itens.length === 1 ? "item" : "itens";\nconst cor = ativo ? "green" : "gray";',
                    },
                    {
                        title: 'Preced√™ncia de Operadores',
                        text: 'Preced√™ncia define a ordem de execu√ß√£o. Par√™nteses t√™m maior prioridade. Depois: !, ++/--, **, */%, +-, compara√ß√µes, &&, ||, tern√°rio, atribui√ß√£o. Use par√™nteses para deixar a inten√ß√£o clara.',
                        code: '// Preced√™ncia padr√£o\nlet resultado = 2 + 3 * 4;   // 14 (n√£o 20!)\n// * executa antes de +\n\n// Use par√™nteses para clareza\nlet correto = (2 + 3) * 4;   // 20\n\n// Ordem: ! > && > ||\nconst a = true || false && false; // true\n// Equivale a: true || (false && false)\n\n// Melhor com par√™nteses\nconst b = (true || false) && false; // false\n\n// Pr√°tica recomendada\nconst aprovado = (nota >= 7) && (frequencia >= 75);\nconst desconto = (ehVIP || temCupom) && (total > 100);',
                    },
                ],
                tips: [
                    'Sempre use === ao inv√©s de == para compara√ß√µes',
                    'Use par√™nteses para deixar a preced√™ncia clara',
                    'Operadores compostos (+=) tornam o c√≥digo mais limpo',
                    'Cuidado com tern√°rios aninhados - prefira if-else',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual √© o resultado de 10 % 3?',
                    options: ['3', '1', '3.33', '10'],
                    correctAnswer: 1,
                    explanation: '% retorna o resto da divis√£o. 10 √∑ 3 = 3, resto 1',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'Qual operador √© recomendado para comparar igualdade?',
                    options: ['=', '==', '===', '=>'],
                    correctAnswer: 2,
                    explanation: '=== compara valor E tipo, evitando convers√µes autom√°ticas',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'true-false',
                    question: '5 === "5" retorna true',
                    correctAnswer: 'false',
                    explanation: '=== compara tipo tamb√©m. 5 (number) !== "5" (string)',
                    points: 10,
                },
                {
                    id: 'q4',
                    type: 'fill-blank',
                    question: 'Complete: let x = 10; x ____ 5; // x agora √© 15',
                    correctAnswer: '+=',
                    explanation: '+= adiciona e atribui: x = x + 5',
                    points: 15,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Qual √© o resultado de true && false?',
                    options: ['true', 'false', 'null', 'undefined'],
                    correctAnswer: 1,
                    explanation: 'AND (&&) s√≥ √© true se AMBOS forem true',
                    points: 10,
                },
                {
                    id: 'q6',
                    type: 'multiple-choice',
                    question: 'Qual √© o resultado de true || false?',
                    options: ['true', 'false', 'null', 'undefined'],
                    correctAnswer: 0,
                    explanation: 'OR (||) √© true se PELO MENOS UM for true',
                    points: 10,
                },
                {
                    id: 'q7',
                    type: 'fill-blank',
                    question: 'Complete: idade >= 18 ____ "adulto" : "menor"',
                    correctAnswer: '?',
                    explanation: 'O operador tern√°rio usa ? para separar condi√ß√£o do valor se true',
                    points: 15,
                },
                {
                    id: 'q8',
                    type: 'multiple-choice',
                    question: 'Qual √© o resultado de 2 + 3 * 4?',
                    options: ['20', '14', '24', '9'],
                    correctAnswer: 1,
                    explanation: '* tem maior preced√™ncia que +, ent√£o 3*4=12, depois 2+12=14',
                    points: 10,
                },
                {
                    id: 'q9',
                    type: 'true-false',
                    question: '!true retorna false',
                    correctAnswer: 'true',
                    explanation: 'O operador ! (NOT) inverte o valor booleano',
                    points: 10,
                },
                {
                    id: 'q10',
                    type: 'multiple-choice',
                    question: 'Qual operador calcula pot√™ncia?',
                    options: ['^', '**', 'pow', '^^'],
                    correctAnswer: 1,
                    explanation: '** √© o operador de exponencia√ß√£o: 2**3 = 8',
                    points: 15,
                },
            ],
        },

    ],
};

// ============================================
// M√ìDULO 2: TIPOS DE DADOS
// ============================================

export const JS_TIPOS: LearningModule = {
    id: 'js-tipos',
    name: 'Tipos de Dados',
    description: 'Strings, numbers, booleans, arrays e objetos em profundidade',
    icon: 'üìä',
    difficulty: 'beginner',
    requiredXP: 200,
    lessons: [
        {
            id: 'tipos-primitivos',
            title: 'Tipos Primitivos',
            description: 'String, Number, Boolean, null, undefined e Symbol',
            xpReward: 150,
            estimatedTime: 25,
            content: {
                introduction: 'JavaScript tem tipos primitivos (imut√°veis) e tipos de refer√™ncia (objetos). Os primitivos s√£o: string, number, boolean, undefined, null, symbol e bigint. Entender a diferen√ßa entre eles √© crucial para evitar bugs e escrever c√≥digo eficiente.',
                sections: [
                    {
                        title: 'String - Texto',
                        text: 'Strings representam texto e podem usar aspas simples, duplas ou crases (template literals). Strings s√£o imut√°veis: m√©todos retornam novas strings, n√£o modificam a original. Template literals permitem interpola√ß√£o e m√∫ltiplas linhas.',
                        code: '// Tr√™s formas de criar strings\nlet simples = \'Ol√°\';\nlet duplas = "Mundo";\nlet template = `${simples} ${duplas}!`; // "Ol√° Mundo!"\n\n// Template literals - m√∫ltiplas linhas\nlet html = `\n  <div>\n    <h1>${titulo}</h1>\n    <p>${descricao}</p>\n  </div>\n`;\n\n// Strings s√£o imut√°veis\nlet nome = "Ana";\nnome.toUpperCase(); // retorna "ANA"\nconsole.log(nome);  // ainda "Ana"',
                    },
                    {
                        title: 'M√©todos de String',
                        text: 'Strings t√™m muitos m√©todos √∫teis: length (tamanho), toUpperCase/toLowerCase (mai√∫sculas/min√∫sculas), slice/substring (extrair parte), split (dividir em array), includes/indexOf (buscar), trim (remover espa√ßos), replace (substituir).',
                        code: 'let texto = "  JavaScript √© incr√≠vel!  ";\n\n// Informa√ß√µes\ntexto.length;           // 26\ntexto.indexOf("Script"); // 6\ntexto.includes("Java"); // true\n\n// Transforma√ß√µes\ntexto.trim();           // "JavaScript √© incr√≠vel!"\ntexto.toUpperCase();    // "  JAVASCRIPT √â INCR√çVEL!  "\ntexto.toLowerCase();    // "  javascript √© incr√≠vel!  "\n\n// Extra√ß√£o\ntexto.slice(2, 12);     // "JavaScript"\ntexto.split(" ");       // ["", "", "JavaScript", "√©", "incr√≠vel!", "", ""]\n\n// Substitui√ß√£o\ntexto.replace("incr√≠vel", "fant√°stico");',
                    },
                    {
                        title: 'Number - N√∫meros',
                        text: 'JavaScript tem apenas um tipo num√©rico que inclui inteiros e decimais (ponto flutuante 64-bit). Valores especiais: Infinity, -Infinity e NaN (Not a Number). Cuidado com precis√£o decimal: 0.1 + 0.2 !== 0.3 devido a representa√ß√£o bin√°ria.',
                        code: '// Inteiros e decimais s√£o o mesmo tipo\nlet idade = 25;\nlet preco = 19.99;\nlet negativo = -10;\nlet cientifico = 3.14e2; // 314\n\n// Valores especiais\nlet infinito = Infinity;     // 1/0\nlet negInfinito = -Infinity; // -1/0\nlet naoNumero = NaN;         // 0/0, parseInt("abc")\n\n// Cuidado com decimais!\nconsole.log(0.1 + 0.2);      // 0.30000000000000004\nconsole.log(0.1 + 0.2 === 0.3); // false!\n\n// Solu√ß√£o: arredondar ou usar inteiros (centavos)\nlet total = (0.1 * 100 + 0.2 * 100) / 100; // 0.3',
                    },
                    {
                        title: 'M√©todos de Number',
                        text: 'Use toFixed() para casas decimais, parseInt/parseFloat para converter strings, Number() para convers√£o estrita, e isNaN/isFinite para validar valores. O objeto Math cont√©m fun√ß√µes matem√°ticas.',
                        code: '// Formata√ß√£o\nlet preco = 19.999;\npreco.toFixed(2);      // "20.00" (string!)\npreco.toPrecision(3);  // "20.0"\n\n// Convers√£o de string para n√∫mero\nparseInt("42");        // 42\nparseInt("42px");      // 42 (ignora resto)\nparseFloat("3.14");    // 3.14\nNumber("42");          // 42\nNumber("42px");        // NaN (mais estrito)\n\n// Valida√ß√£o\nisNaN(NaN);            // true\nisNaN("texto");        // true (converte primeiro)\nNumber.isNaN(NaN);     // true (n√£o converte)\nNumber.isFinite(100);  // true\n\n// Math\nMath.round(4.5);  // 5\nMath.floor(4.9);  // 4\nMath.ceil(4.1);   // 5\nMath.random();    // 0-1',
                    },
                    {
                        title: 'Boolean - Verdadeiro/Falso',
                        text: 'Booleans representam verdadeiro (true) ou falso (false). S√£o usados em condi√ß√µes e compara√ß√µes. JavaScript converte outros tipos para boolean em contextos condicionais: valores "falsy" (0, "", null, undefined, NaN, false) viram false; todo resto √© "truthy".',
                        code: '// Booleans literais\nlet ativo = true;\nlet logado = false;\n\n// Resultado de compara√ß√µes\nlet maior = 10 > 5;    // true\nlet igual = 5 === "5"; // false (tipos diferentes)\n\n// Valores Falsy (se tornam false)\nBoolean(0);          // false\nBoolean("");         // false\nBoolean(null);       // false\nBoolean(undefined);  // false\nBoolean(NaN);        // false\n\n// Valores Truthy (se tornam true)\nBoolean(1);          // true\nBoolean("texto");    // true\nBoolean([]);         // true (array vazio!)\nBoolean({});         // true (objeto vazio!)\n\n// Convers√£o r√°pida para boolean\nlet existe = !!usuario; // converte para boolean',
                    },
                    {
                        title: 'null e undefined',
                        text: 'null representa aus√™ncia intencional de valor - voc√™ define explicitamente. undefined significa que algo n√£o foi definido: vari√°veis n√£o inicializadas, propriedades inexistentes, par√¢metros n√£o passados. Use null para limpar valores; undefined √© do sistema.',
                        code: '// undefined - n√£o definido\nlet x;                   // undefined\nlet obj = {};\nconsole.log(obj.nome);   // undefined\nfunction fn(param) {\n  console.log(param);    // undefined se n√£o passar\n}\n\n// null - intencionalmente vazio\nlet usuario = null;      // n√£o h√° usu√°rio\nlet resultado = null;    // ser√° preenchido depois\n\n// Compara√ß√£o\nnull == undefined;       // true (valor similar)\nnull === undefined;      // false (tipos diferentes)\n\n// Verifica√ß√£o segura\nif (usuario !== null && usuario !== undefined) {\n  // usuario existe\n}\n// Ou mais moderno:\nif (usuario != null) {\n  // usuario n√£o √© null nem undefined\n}',
                    },
                    {
                        title: 'typeof - Verificando Tipos',
                        text: 'O operador typeof retorna uma string indicando o tipo do valor. Cuidado: typeof null retorna "object" (bug hist√≥rico), e arrays tamb√©m s√£o "object". Para arrays, use Array.isArray().',
                        code: '// typeof retorna string do tipo\ntypeof "texto";      // "string"\ntypeof 42;           // "number"\ntypeof true;         // "boolean"\ntypeof undefined;    // "undefined"\ntypeof Symbol();     // "symbol"\ntypeof BigInt(10);   // "bigint"\n\n// Cuidados!\ntypeof null;         // "object" (bug hist√≥rico!)\ntypeof [];           // "object" (array √© objeto)\ntypeof {};           // "object"\ntypeof function(){}; // "function"\n\n// Verifica√ß√µes corretas\nArray.isArray([]);           // true\nArray.isArray({});           // false\nvalor === null;              // verificar null\nvalor instanceof Date;       // verificar Date',
                    },
                    {
                        title: 'Convers√£o de Tipos',
                        text: 'JavaScript converte tipos automaticamente (coer√ß√£o) em certas opera√ß√µes. Convers√£o expl√≠cita usa String(), Number(), Boolean(). Coer√ß√£o impl√≠cita pode causar bugs: "5" + 3 = "53" mas "5" - 3 = 2. Sempre converta explicitamente para evitar surpresas.',
                        code: '// Convers√£o expl√≠cita (recomendado)\nString(123);         // "123"\nNumber("42");        // 42\nBoolean(1);          // true\n\n// Coer√ß√£o impl√≠cita (cuidado!)\n"5" + 3;             // "53" (+ concatena strings)\n"5" - 3;             // 2 (- converte para n√∫mero)\n"5" * "2";           // 10\n10 + "";             // "10" (n√∫mero vira string)\n+"42";               // 42 (string vira n√∫mero)\n\n// Compara√ß√£o com coer√ß√£o\n5 == "5";            // true (converte tipos)\n5 === "5";           // false (tipos diferentes)\n\n// Recomenda√ß√£o: seja expl√≠cito\nconst entrada = "42";\nconst numero = Number(entrada);\nif (!isNaN(numero)) {\n  console.log(numero * 2); // 84\n}',
                    },
                ],
                tips: [
                    'Use === para compara√ß√µes (sem coer√ß√£o)',
                    'Sempre converta tipos explicitamente',
                    'Template literals (``) s√£o mais leg√≠veis',
                    'Use Number.isNaN() ao inv√©s de isNaN()',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual √© a sintaxe de template literal?',
                    options: ['"texto"', "'texto'", '`texto`', '<texto>'],
                    correctAnswer: 2,
                    explanation: 'Template literals usam crases (backticks): `texto`',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'O que √© NaN?',
                    options: ['N√∫mero negativo', 'Not a Number', 'Null and Nothing', 'N√∫mero alto'],
                    correctAnswer: 1,
                    explanation: 'NaN significa "Not a Number" - resultado de opera√ß√µes num√©ricas inv√°lidas',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'fill-blank',
                    question: 'Complete: let ativo = ____;',
                    correctAnswer: 'true',
                    explanation: 'Boolean usa true ou false',
                    points: 15,
                },
                {
                    id: 'q4',
                    type: 'true-false',
                    question: 'null e undefined s√£o a mesma coisa',
                    correctAnswer: 'false',
                    explanation: 'null √© intencional, undefined √© aus√™ncia de valor',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Como inserir vari√°vel em template literal?',
                    options: ['#{var}', '${var}', '%{var}', '@{var}'],
                    correctAnswer: 1,
                    explanation: 'Template literals usam ${variavel} para interpola√ß√£o',
                    points: 10,
                },
            ],
        },
        {
            id: 'arrays-js',
            title: 'Arrays',
            description: 'Listas ordenadas, m√©todos e itera√ß√£o',
            xpReward: 150,
            estimatedTime: 25,
            content: {
                introduction: 'Arrays s√£o estruturas de dados fundamentais que armazenam m√∫ltiplos valores em uma √∫nica vari√°vel. Em JavaScript, arrays podem conter qualquer tipo de dado e t√™m m√©todos poderosos para manipula√ß√£o. Dominar arrays √© essencial - voc√™ usar√° em praticamente todo projeto.',
                sections: [
                    {
                        title: 'Criando Arrays',
                        text: 'Arrays s√£o listas ordenadas de valores, identificados por √≠ndices num√©ricos come√ßando em 0. Podem conter qualquer tipo de dado, inclusive misturado. Use colchetes [] para criar e acessar elementos.',
                        code: '// Formas de criar arrays\nlet frutas = ["ma√ß√£", "banana", "laranja"];\nlet numeros = [1, 2, 3, 4, 5];\nlet misto = [1, "dois", true, null, {nome: "obj"}];\nlet vazio = [];\n\n// Construtor (menos comum)\nlet arr = new Array(3);  // [undefined, undefined, undefined]\nlet arr2 = Array.of(1, 2, 3); // [1, 2, 3]\n\n// Array de intervalo (√∫til)\nlet range = Array.from({length: 5}, (_, i) => i + 1);\n// [1, 2, 3, 4, 5]',
                    },
                    {
                        title: 'Acessando e Modificando',
                        text: 'Use √≠ndices para acessar elementos (come√ßa em 0). O √∫ltimo elemento est√° em length - 1. Use at() para √≠ndices negativos (conta do final). Arrays s√£o mut√°veis: voc√™ pode alterar elementos diretamente.',
                        code: 'let frutas = ["ma√ß√£", "banana", "laranja"];\n\n// Acessando\nfrutas[0];       // "ma√ß√£" (primeiro)\nfrutas[2];       // "laranja" (terceiro)\nfrutas[10];      // undefined (n√£o existe)\nfrutas.length;   // 3\n\n// √öltimo elemento\nfrutas[frutas.length - 1]; // "laranja"\nfrutas.at(-1);             // "laranja" (moderno)\nfrutas.at(-2);             // "banana"\n\n// Modificando\nfrutas[0] = "morango";  // ["morango", "banana", "laranja"]\nfrutas[3] = "uva";      // adiciona no √≠ndice 3',
                    },
                    {
                        title: 'M√©todos de Modifica√ß√£o',
                        text: 'push/pop trabalham no final, shift/unshift no in√≠cio. splice() √© vers√°til: remove, adiciona ou substitui em qualquer posi√ß√£o. Estes m√©todos MODIFICAM o array original.',
                        code: 'let arr = [1, 2, 3];\n\n// Final do array\narr.push(4, 5);      // [1, 2, 3, 4, 5] - adiciona\narr.pop();           // 5 (removido) - arr √© [1, 2, 3, 4]\n\n// In√≠cio do array\narr.unshift(0);      // [0, 1, 2, 3, 4] - adiciona\narr.shift();         // 0 (removido) - arr √© [1, 2, 3, 4]\n\n// splice(in√≠cio, quantos, ...novos)\narr.splice(1, 2);           // remove 2 itens a partir do √≠ndice 1\narr.splice(1, 0, "a", "b"); // insere "a", "b" no √≠ndice 1\narr.splice(1, 1, "x");      // substitui 1 item no √≠ndice 1\n\n// Outros\narr.reverse();   // inverte ordem\narr.sort();      // ordena (cuidado: ordena como string!)\narr.fill(0);     // preenche tudo com 0',
                    },
                    {
                        title: 'M√©todos de Busca',
                        text: 'indexOf() e includes() buscam valores. find() e findIndex() buscam com condi√ß√£o. filter() retorna todos que passam no teste. Estes N√ÉO modificam o array original.',
                        code: 'let nums = [10, 20, 30, 40, 50];\n\n// Busca simples\nnums.indexOf(30);    // 2 (√≠ndice)\nnums.indexOf(99);    // -1 (n√£o encontrou)\nnums.includes(30);   // true\nnums.includes(99);   // false\n\n// Busca com condi√ß√£o\nnums.find(n => n > 25);      // 30 (primeiro que passa)\nnums.findIndex(n => n > 25); // 2 (√≠ndice do primeiro)\n\n// Todos que passam no teste\nnums.filter(n => n > 25);    // [30, 40, 50]\n\n// Verifica√ß√µes\nnums.some(n => n > 40);      // true (algum passa?)\nnums.every(n => n > 5);      // true (todos passam?)',
                    },
                    {
                        title: 'map, filter, reduce',
                        text: 'Os tr√™s m√©todos mais poderosos: map() transforma cada elemento, filter() seleciona elementos, reduce() combina tudo em um valor. S√£o a base da programa√ß√£o funcional em JS. Nenhum modifica o original.',
                        code: '// map - transforma cada elemento\nlet nums = [1, 2, 3, 4, 5];\nlet dobro = nums.map(n => n * 2);  // [2, 4, 6, 8, 10]\nlet nomes = ["ana", "bia"].map(n => n.toUpperCase());\n// ["ANA", "BIA"]\n\n// filter - seleciona elementos\nlet pares = nums.filter(n => n % 2 === 0);  // [2, 4]\nlet usuarios = [{nome: "Ana", ativo: true}, {nome: "Bia", ativo: false}];\nlet ativos = usuarios.filter(u => u.ativo);\n\n// reduce - combina em um valor\nlet soma = nums.reduce((acc, n) => acc + n, 0);  // 15\nlet produto = nums.reduce((acc, n) => acc * n, 1); // 120\n\n// Encadeamento\nlet resultado = nums\n  .filter(n => n > 2)\n  .map(n => n * 2)\n  .reduce((acc, n) => acc + n, 0); // 24',
                    },
                    {
                        title: 'Spread e Desestrutura√ß√£o',
                        text: 'O operador spread (...) expande arrays em elementos individuais. Desestrutura√ß√£o extrai valores em vari√°veis. Ambos s√£o essenciais no JavaScript moderno para c√≥digo limpo e expressivo.',
                        code: '// Spread - expande array\nlet arr1 = [1, 2, 3];\nlet arr2 = [4, 5, 6];\nlet combinado = [...arr1, ...arr2];  // [1, 2, 3, 4, 5, 6]\nlet copia = [...arr1];               // c√≥pia independente\n\n// Spread em fun√ß√µes\nlet nums = [5, 2, 8, 1, 9];\nMath.max(...nums);  // 9 (passa cada elemento)\n\n// Desestrutura√ß√£o\nlet [primeiro, segundo, ...resto] = [1, 2, 3, 4, 5];\nconsole.log(primeiro); // 1\nconsole.log(segundo);  // 2\nconsole.log(resto);    // [3, 4, 5]\n\n// Ignorar elementos\nlet [a, , c] = [1, 2, 3];  // a=1, c=3\n\n// Valores padr√£o\nlet [x, y, z = 0] = [1, 2];  // z=0',
                    },
                    {
                        title: 'Itera√ß√£o com forEach e for...of',
                        text: 'forEach() executa fun√ß√£o para cada elemento. for...of itera diretamente sobre valores. Ambos s√£o mais leg√≠veis que for tradicional. Use forEach quando n√£o precisa de break; for...of quando precisa.',
                        code: '// forEach - executa fun√ß√£o para cada\nlet frutas = ["ma√ß√£", "banana", "uva"];\nfrutas.forEach((fruta, indice) => {\n  console.log(`${indice}: ${fruta}`);\n});\n// 0: ma√ß√£\n// 1: banana\n// 2: uva\n\n// for...of - itera sobre valores\nfor (let fruta of frutas) {\n  console.log(fruta);\n}\n// Pode usar break/continue\nfor (let fruta of frutas) {\n  if (fruta === "banana") break;\n  console.log(fruta);\n}\n\n// entries() - √≠ndice e valor\nfor (let [i, fruta] of frutas.entries()) {\n  console.log(`${i}: ${fruta}`);\n}',
                    },
                ],
                tips: [
                    'Use map/filter/reduce ao inv√©s de loops manuais',
                    'Spread [...arr] cria c√≥pia, = apenas refer√™ncia',
                    'sort() ordena como strings por padr√£o!',
                    'find() retorna undefined se n√£o achar',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual √© o √≠ndice do primeiro elemento de um array?',
                    options: ['1', '0', '-1', 'primeiro'],
                    correctAnswer: 1,
                    explanation: 'Arrays come√ßam no √≠ndice 0',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'Qual m√©todo adiciona elemento ao final?',
                    options: ['add()', 'push()', 'append()', 'insert()'],
                    correctAnswer: 1,
                    explanation: 'push() adiciona ao final do array',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'fill-blank',
                    question: 'Complete: let frutas = ["ma√ß√£"]; frutas.____("banana");',
                    correctAnswer: 'push',
                    explanation: 'push adiciona ao final do array',
                    points: 15,
                },
                {
                    id: 'q4',
                    type: 'true-false',
                    question: 'Arrays podem conter tipos diferentes',
                    correctAnswer: 'true',
                    explanation: 'JS permite arrays com tipos mistos',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'O que array.length retorna?',
                    options: ['√öltimo elemento', 'Primeiro elemento', 'N√∫mero de elementos', '√çndice m√°ximo'],
                    correctAnswer: 2,
                    explanation: 'length retorna a quantidade de elementos',
                    points: 10,
                },
                {
                    id: 'q6',
                    type: 'multiple-choice',
                    question: 'Qual m√©todo remove o √∫ltimo elemento?',
                    options: ['remove()', 'delete()', 'pop()', 'shift()'],
                    correctAnswer: 2,
                    explanation: 'pop() remove e retorna o √∫ltimo elemento',
                    points: 10,
                },
                {
                    id: 'q7',
                    type: 'multiple-choice',
                    question: 'Qual m√©todo remove o primeiro elemento?',
                    options: ['pop()', 'shift()', 'unshift()', 'first()'],
                    correctAnswer: 1,
                    explanation: 'shift() remove o primeiro elemento do array',
                    points: 10,
                },
                {
                    id: 'q8',
                    type: 'fill-blank',
                    question: 'Complete: let arr = [1,2,3]; arr.____; // tamanho',
                    correctAnswer: 'length',
                    explanation: 'length √© a propriedade que retorna o tamanho',
                    points: 15,
                },
                {
                    id: 'q9',
                    type: 'true-false',
                    question: 'arr[arr.length] acessa o √∫ltimo elemento',
                    correctAnswer: 'false',
                    explanation: 'O √∫ltimo √≠ndice √© arr.length - 1, n√£o arr.length',
                    points: 15,
                },
                {
                    id: 'q10',
                    type: 'multiple-choice',
                    question: 'O que unshift() faz?',
                    options: ['Remove do in√≠cio', 'Adiciona ao in√≠cio', 'Ordena array', 'Inverte array'],
                    correctAnswer: 1,
                    explanation: 'unshift() adiciona elementos no in√≠cio do array',
                    points: 10,
                },
            ],
        },

    ],
};

// ============================================
// M√ìDULO 3: CONTROLE DE FLUXO
// ============================================

export const JS_CONTROLE: LearningModule = {
    id: 'js-controle',
    name: 'Controle de Fluxo',
    description: 'Condicionais e loops',
    icon: 'üîÄ',
    difficulty: 'intermediate',
    requiredXP: 400,
    lessons: [
        {
            id: 'condicionais-js',
            title: 'Condicionais',
            description: 'if/else, switch, tern√°rio e truthy/falsy',
            xpReward: 150,
            estimatedTime: 25,
            content: {
                introduction: 'Condicionais controlam o fluxo do programa baseado em condi√ß√µes. Elas permitem que seu c√≥digo tome decis√µes e execute diferentes blocos dependendo de valores. Dominar condicionais √© fundamental para criar l√≥gica complexa e aplica√ß√µes interativas.',
                sections: [
                    {
                        title: 'if, else e else if',
                        text: 'A estrutura if executa c√≥digo se a condi√ß√£o for verdadeira. Combine com else para executar c√≥digo alternativo, ou else if para m√∫ltiplas condi√ß√µes. Sempre use chaves {} mesmo para uma linha.',
                        code: 'let idade = 20;\n\n// if simples\nif (idade >= 18) {\n  console.log("Maior de idade");\n}\n\n// if/else\nif (idade >= 18) {\n  console.log("Pode votar");\n} else {\n  console.log("N√£o pode votar");\n}\n\n// if/else if/else\nlet nota = 75;\nif (nota >= 90) {\n  console.log("A - Excelente");\n} else if (nota >= 70) {\n  console.log("B - Bom");\n} else if (nota >= 50) {\n  console.log("C - Regular");\n} else {\n  console.log("D - Reprovado");\n}',
                    },
                    {
                        title: 'Operador Tern√°rio',
                        text: 'O operador tern√°rio √© uma forma concisa de if/else para atribui√ß√µes simples. Sintaxe: condi√ß√£o ? valorSeVerdade : valorSeFalso. Use para decis√µes simples; evite aninhar m√∫ltiplos tern√°rios.',
                        code: '// Tern√°rio b√°sico\nlet idade = 20;\nlet status = idade >= 18 ? "adulto" : "menor";\nconsole.log(status); // "adulto"\n\n// Em template string\nlet logado = true;\nconsole.log(`Usu√°rio ${logado ? "online" : "offline"}`);\n\n// Com fun√ß√µes\nfunction saudacao(hora) {\n  return hora < 12 ? "Bom dia" : hora < 18 ? "Boa tarde" : "Boa noite";\n}\n// ‚ö†Ô∏è Evite aninhar demais - fica dif√≠cil de ler\n\n// Tern√°rio vs if/else\n// Use tern√°rio para atribui√ß√µes simples\n// Use if/else para l√≥gica complexa',
                    },
                    {
                        title: 'switch/case',
                        text: 'Use switch quando comparar um valor contra m√∫ltiplas op√ß√µes. √â mais leg√≠vel que v√°rios else if quando h√° muitos casos. N√£o esque√ßa do break para evitar "fall-through" (execu√ß√£o em cascata).',
                        code: 'let dia = 3;\nlet nomeDia;\n\nswitch (dia) {\n  case 1:\n    nomeDia = "Segunda";\n    break;\n  case 2:\n    nomeDia = "Ter√ßa";\n    break;\n  case 3:\n    nomeDia = "Quarta";\n    break;\n  case 4:\n    nomeDia = "Quinta";\n    break;\n  case 5:\n    nomeDia = "Sexta";\n    break;\n  default:\n    nomeDia = "Fim de semana";\n}\n\n// Agrupando casos (fall-through intencional)\nswitch (dia) {\n  case 1:\n  case 2:\n  case 3:\n  case 4:\n  case 5:\n    console.log("Dia √∫til");\n    break;\n  case 6:\n  case 7:\n    console.log("Fim de semana");\n}',
                    },
                    {
                        title: 'Valores Truthy e Falsy',
                        text: 'JavaScript converte qualquer valor em boolean em contextos condicionais. Valores "falsy" s√£o tratados como false: false, 0, "", null, undefined, NaN. Tudo mais √© "truthy". Entender isso evita bugs comuns.',
                        code: '// Valores FALSY (s√£o considerados false)\nif (false) {}     // false\nif (0) {}         // n√∫mero zero\nif ("") {}        // string vazia\nif (null) {}      // null\nif (undefined) {} // undefined\nif (NaN) {}       // Not a Number\n\n// Valores TRUTHY (s√£o considerados true)\nif (true) {}      // true\nif (1) {}         // qualquer n√∫mero != 0\nif ("texto") {}   // string n√£o vazia\nif ([]) {}        // array vazio (cuidado!)\nif ({}) {}        // objeto vazio (cuidado!)\nif (function(){}) {} // fun√ß√µes\n\n// Uso pr√°tico\nlet usuario = null;\nif (usuario) {\n  console.log("Usu√°rio logado");\n} else {\n  console.log("Fa√ßa login"); // executa\n}\n\n// Verificar array com itens\nlet lista = [];\nif (lista.length) { // 0 √© falsy\n  console.log("Lista tem itens");\n}',
                    },
                    {
                        title: 'Operadores L√≥gicos em Condi√ß√µes',
                        text: 'Combine condi√ß√µes com && (AND), || (OR) e ! (NOT). JavaScript usa "avalia√ß√£o de curto-circuito": && para se um valor √© falsy; || retorna o primeiro truthy. Isso permite padr√µes elegantes.',
                        code: '// && (AND) - todas devem ser true\nlet idade = 25;\nlet temCNH = true;\nif (idade >= 18 && temCNH) {\n  console.log("Pode dirigir");\n}\n\n// || (OR) - pelo menos uma true\nlet admin = false;\nlet moderador = true;\nif (admin || moderador) {\n  console.log("Tem permiss√£o");\n}\n\n// ! (NOT) - inverte boolean\nlet logado = false;\nif (!logado) {\n  console.log("Fa√ßa login"); // executa\n}\n\n// Curto-circuito para valores padr√£o\nlet nome = "";\nlet saudacao = nome || "Visitante";  // "Visitante"\n\n// Curto-circuito para execu√ß√£o condicional\nlet usuario = {nome: "Ana"};\nusuario && console.log(usuario.nome); // "Ana"\n// S√≥ executa se usuario existir',
                    },
                    {
                        title: 'Nullish Coalescing (??)',
                        text: 'O operador ?? √© similar ao ||, mas s√≥ considera null e undefined como "falsy". Isso √© importante quando 0 ou "" s√£o valores v√°lidos que voc√™ quer preservar.',
                        code: '// Problema com ||\nlet quantidade = 0;\nlet qtd1 = quantidade || 10; // 10 (0 √© falsy!)\n\n// Solu√ß√£o com ??\nlet qtd2 = quantidade ?? 10; // 0 (preserva zero)\n\n// Diferen√ßa:\n// ||  ‚Üí usa fallback se valor for FALSY (0, "", null, undefined)\n// ??  ‚Üí usa fallback APENAS se for null/undefined\n\nlet config = {\n  timeout: 0,\n  nome: "",\n  opcao: null\n};\n\nconfig.timeout || 5000;  // 5000 (0 √© falsy)\nconfig.timeout ?? 5000;  // 0 (preserva)\n\nconfig.nome || "Padr√£o"; // "Padr√£o" ("" √© falsy)\nconfig.nome ?? "Padr√£o"; // "" (preserva)\n\nconfig.opcao || "default"; // "default"\nconfig.opcao ?? "default"; // "default" (null)',
                    },
                    {
                        title: 'Boas Pr√°ticas com Condicionais',
                        text: 'Escreva condi√ß√µes claras e evite aninhamento excessivo. Prefira retornos antecipados (early return) para reduzir else. Use guard clauses para valida√ß√µes. C√≥digo leg√≠vel √© mais importante que c√≥digo curto.',
                        code: '// ‚ùå Aninhamento excessivo\nfunction processarPedido(pedido) {\n  if (pedido) {\n    if (pedido.itens.length > 0) {\n      if (pedido.pago) {\n        // processar...\n      }\n    }\n  }\n}\n\n// ‚úÖ Guard clauses (retorno antecipado)\nfunction processarPedido(pedido) {\n  if (!pedido) return;\n  if (pedido.itens.length === 0) return;\n  if (!pedido.pago) return;\n  // processar...\n}\n\n// ‚úÖ Condi√ß√µes descritivas via vari√°veis\nconst podeAcessar = usuario.ativo && usuario.verificado;\nconst temPermissao = usuario.admin || usuario.moderador;\n\nif (podeAcessar && temPermissao) {\n  // muito mais leg√≠vel\n}\n\n// ‚ùå Compara√ß√£o com true/false\nif (ativo === true) {}\n// ‚úÖ Apenas use o boolean\nif (ativo) {}',
                    },
                ],
                tips: [
                    'Use === ao inv√©s de == para compara√ß√µes seguras',
                    'Switch √© mais leg√≠vel quando h√° 3+ casos',
                    'Guard clauses evitam pir√¢mides de if',
                    'Use ?? quando 0 ou "" s√£o valores v√°lidos',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual operador verifica igualdade estrita?',
                    options: ['==', '===', '=', '!='],
                    correctAnswer: 1,
                    explanation: '=== compara valor E tipo (estrito)',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'O que o operador tern√°rio faz?',
                    options: ['Loop 3 vezes', 'if/else curto', 'Declara 3 vari√°veis', 'Compara 3 valores'],
                    correctAnswer: 1,
                    explanation: 'Tern√°rio: condi√ß√£o ? seVerdade : seFalso',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'fill-blank',
                    question: 'Complete: if (x > 10) { } ____ { }',
                    correctAnswer: 'else',
                    explanation: 'else √© executado quando if √© falso',
                    points: 15,
                },
                {
                    id: 'q4',
                    type: 'true-false',
                    question: '== e === s√£o equivalentes',
                    correctAnswer: 'false',
                    explanation: '== permite coer√ß√£o, === √© estrito (valor e tipo)',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Qual √© a sintaxe do operador tern√°rio?',
                    options: ['if ? then : else', 'condi√ß√£o ? verdade : falso', 'check(cond, v, f)', 'cond && v || f'],
                    correctAnswer: 1,
                    explanation: 'Tern√°rio: condi√ß√£o ? valorSeVerdade : valorSeFalso',
                    points: 10,
                },
                {
                    id: 'q6',
                    type: 'multiple-choice',
                    question: 'O que "1" == 1 retorna?',
                    options: ['true', 'false', 'undefined', 'erro'],
                    correctAnswer: 0,
                    explanation: '== faz coer√ß√£o de tipo, ent√£o "1" == 1 √© true',
                    points: 15,
                },
                {
                    id: 'q7',
                    type: 'multiple-choice',
                    question: 'O que "1" === 1 retorna?',
                    options: ['true', 'false', 'undefined', 'erro'],
                    correctAnswer: 1,
                    explanation: '=== compara tipo tamb√©m, string !== number',
                    points: 15,
                },
                {
                    id: 'q8',
                    type: 'fill-blank',
                    question: 'Complete: let x = a > b ____ a : b; (maior valor)',
                    correctAnswer: '?',
                    explanation: 'Operador tern√°rio: condi√ß√£o ? valor1 : valor2',
                    points: 15,
                },
                {
                    id: 'q9',
                    type: 'true-false',
                    question: 'switch pode usar strings como case',
                    correctAnswer: 'true',
                    explanation: 'switch funciona com strings, n√∫meros e outros tipos',
                    points: 10,
                },
                {
                    id: 'q10',
                    type: 'multiple-choice',
                    question: 'O que && representa?',
                    options: ['OU l√≥gico', 'E l√≥gico', 'Nega√ß√£o', 'Igual'],
                    correctAnswer: 1,
                    explanation: '&& √© AND l√≥gico - ambas condi√ß√µes devem ser verdadeiras',
                    points: 10,
                },
            ],
        },

        {
            id: 'loops-js',
            title: 'Loops',
            description: 'for, while, do-while e controle de itera√ß√£o',
            xpReward: 150,
            estimatedTime: 25,
            content: {
                introduction: 'Loops permitem executar c√≥digo repetidamente. JavaScript oferece v√°rias formas de itera√ß√£o, cada uma ideal para diferentes situa√ß√µes. Escolher o loop certo torna seu c√≥digo mais leg√≠vel e eficiente. Vamos explorar todos os tipos e quando usar cada um.',
                sections: [
                    {
                        title: 'for Cl√°ssico',
                        text: 'O loop for tradicional √© ideal quando voc√™ sabe quantas itera√ß√µes precisa. Tem tr√™s partes: inicializa√ß√£o (executa uma vez), condi√ß√£o (verificada antes de cada itera√ß√£o), e incremento (executa ap√≥s cada itera√ß√£o).',
                        code: '// Estrutura: for (in√≠cio; condi√ß√£o; incremento)\nfor (let i = 0; i < 5; i++) {\n  console.log(i); // 0, 1, 2, 3, 4\n}\n\n// Contagem regressiva\nfor (let i = 10; i >= 0; i--) {\n  console.log(i); // 10, 9, ..., 0\n}\n\n// Pular de 2 em 2\nfor (let i = 0; i <= 10; i += 2) {\n  console.log(i); // 0, 2, 4, 6, 8, 10\n}\n\n// Acessar array por √≠ndice\nlet nomes = ["Ana", "Bia", "Carlos"];\nfor (let i = 0; i < nomes.length; i++) {\n  console.log(`${i}: ${nomes[i]}`);\n}',
                    },
                    {
                        title: 'while e do-while',
                        text: 'Use while quando n√£o sabe quantas itera√ß√µes ser√£o necess√°rias. A condi√ß√£o √© verificada ANTES de cada execu√ß√£o. do-while garante pelo menos UMA execu√ß√£o, verificando a condi√ß√£o DEPOIS.',
                        code: '// while - verifica ANTES\nlet contador = 0;\nwhile (contador < 5) {\n  console.log(contador);\n  contador++;\n}\n// Se contador >= 5, n√£o executa nada\n\n// do-while - verifica DEPOIS (executa pelo menos 1x)\nlet numero = 0;\ndo {\n  console.log(numero);\n  numero++;\n} while (numero < 5);\n\n// do-while √∫til para valida√ß√£o\nlet entrada;\ndo {\n  entrada = prompt("Digite um n√∫mero > 0:");\n} while (entrada <= 0);\n// Continua pedindo at√© ser v√°lido\n\n// Cuidado com loops infinitos!\n// while (true) { } // ‚ö†Ô∏è Trava o navegador!',
                    },
                    {
                        title: 'for...of e for...in',
                        text: 'for...of itera sobre VALORES de arrays e iter√°veis. for...in itera sobre CHAVES/√çNDICES de objetos. N√£o confunda! Use for...of para arrays, for...in para objetos.',
                        code: '// for...of - valores de arrays\nlet frutas = ["ma√ß√£", "banana", "uva"];\nfor (let fruta of frutas) {\n  console.log(fruta); // "ma√ß√£", "banana", "uva"\n}\n\n// for...of com strings\nfor (let letra of "ABC") {\n  console.log(letra); // "A", "B", "C"\n}\n\n// for...in - chaves de objetos\nlet pessoa = { nome: "Ana", idade: 25 };\nfor (let chave in pessoa) {\n  console.log(`${chave}: ${pessoa[chave]}`);\n}\n// "nome: Ana", "idade: 25"\n\n// ‚ö†Ô∏è Evite for...in em arrays!\nlet arr = ["a", "b"];\nfor (let i in arr) {\n  // i √© string "0", "1", n√£o n√∫mero!\n  console.log(typeof i); // "string"\n}',
                    },
                    {
                        title: 'break e continue',
                        text: 'break sai completamente do loop. continue pula para a pr√≥xima itera√ß√£o. Ambos funcionam em todos os tipos de loop. Use para controle mais fino da execu√ß√£o.',
                        code: '// break - sai do loop\nfor (let i = 0; i < 10; i++) {\n  if (i === 5) break;\n  console.log(i); // 0, 1, 2, 3, 4\n}\n\n// continue - pula itera√ß√£o\nfor (let i = 0; i < 5; i++) {\n  if (i === 2) continue;\n  console.log(i); // 0, 1, 3, 4 (pula 2)\n}\n\n// Buscar e parar quando encontrar\nlet numeros = [1, 5, 3, 8, 2];\nlet encontrado = null;\nfor (let num of numeros) {\n  if (num > 5) {\n    encontrado = num;\n    break; // para assim que acha\n  }\n}\n\n// Pular valores inv√°lidos\nlet dados = [1, null, 3, undefined, 5];\nfor (let valor of dados) {\n  if (valor == null) continue;\n  console.log(valor); // 1, 3, 5\n}',
                    },
                    {
                        title: 'forEach e M√©todos de Array',
                        text: 'forEach √© um m√©todo de array para iterar. Diferente de for, n√£o pode usar break/continue. Para transformar ou filtrar, prefira map, filter, reduce. Escolha baseado na opera√ß√£o necess√°ria.',
                        code: '// forEach - executa fun√ß√£o para cada\nlet numeros = [1, 2, 3, 4, 5];\nnumeros.forEach((num, indice) => {\n  console.log(`${indice}: ${num}`);\n});\n\n// ‚ö†Ô∏è forEach n√£o aceita break/continue\n// Use for...of se precisar de break\n\n// Quando usar cada um:\n// forEach ‚Üí efeitos colaterais (console.log, atualizar DOM)\n// map ‚Üí transformar em novo array\n// filter ‚Üí filtrar elementos\n// reduce ‚Üí combinar em um valor\n\nlet dobros = numeros.map(n => n * 2);\nlet pares = numeros.filter(n => n % 2 === 0);\nlet soma = numeros.reduce((acc, n) => acc + n, 0);\n\n// find() + break embutido\nlet maior = numeros.find(n => n > 3); // 4 (para ao encontrar)',
                    },
                    {
                        title: 'Loops Aninhados e Labels',
                        text: 'Loops dentro de loops s√£o comuns para matrizes e combina√ß√µes. Labels permitem break/continue em loops espec√≠ficos (√∫til para sair de loops aninhados de uma vez).',
                        code: '// Loops aninhados\nfor (let i = 1; i <= 3; i++) {\n  for (let j = 1; j <= 3; j++) {\n    console.log(`${i},${j}`);\n  }\n}\n// 1,1  1,2  1,3  2,1  2,2  2,3  3,1  3,2  3,3\n\n// Matriz (array de arrays)\nlet matriz = [\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9]\n];\nfor (let linha of matriz) {\n  for (let valor of linha) {\n    console.log(valor);\n  }\n}\n\n// Labels - sair de m√∫ltiplos loops\nexterno: for (let i = 0; i < 3; i++) {\n  for (let j = 0; j < 3; j++) {\n    if (i === 1 && j === 1) {\n      break externo; // sai de AMBOS loops\n    }\n    console.log(i, j);\n  }\n}',
                    },
                    {
                        title: 'Qual Loop Escolher?',
                        text: 'N√£o existe "melhor" loop - depende da situa√ß√£o. Use for quando precisa do √≠ndice, for...of para arrays simples, forEach para m√©todos chain, while quando a condi√ß√£o √© din√¢mica.',
                        code: '// üéØ Guia de escolha:\n\n// √çndice necess√°rio? ‚Üí for cl√°ssico\nfor (let i = 0; i < arr.length; i++) {\n  console.log(`√çndice ${i}: ${arr[i]}`);\n}\n\n// S√≥ valores? ‚Üí for...of\nfor (let item of arr) {\n  console.log(item);\n}\n\n// Objeto? ‚Üí for...in ou Object.entries\nfor (let [chave, valor] of Object.entries(obj)) {\n  console.log(`${chave}: ${valor}`);\n}\n\n// Transformar/filtrar? ‚Üí map/filter\nlet resultado = arr.filter(x => x > 0).map(x => x * 2);\n\n// Condi√ß√£o din√¢mica? ‚Üí while\nwhile (temMaisDados) {\n  processar();\n}\n\n// Pelo menos 1 execu√ß√£o? ‚Üí do-while\ndo {\n  tentativa++;\n} while (!sucesso && tentativa < 3);',
                    },
                ],
                tips: [
                    'for...of √© mais limpo que for cl√°ssico para arrays',
                    'Use break para sair cedo e evitar trabalho desnecess√°rio',
                    'forEach n√£o aceita break - use for...of se precisar',
                    'Cuidado com loops infinitos - sempre tenha uma sa√≠da!',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual loop √© melhor para arrays?',
                    options: ['for cl√°ssico', 'while', 'for...of ou forEach', 'do...while'],
                    correctAnswer: 2,
                    explanation: 'for...of e forEach s√£o mais limpos para arrays',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'O que i++ faz?',
                    options: ['Dobra i', 'Incrementa i em 1', 'Reseta i', 'Declara i'],
                    correctAnswer: 1,
                    explanation: 'i++ √© equivalente a i = i + 1',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'fill-blank',
                    question: 'Complete: for (let i = 0; i < 10; i____)',
                    correctAnswer: '++',
                    explanation: '++ incrementa a vari√°vel em 1',
                    points: 15,
                },
                {
                    id: 'q4',
                    type: 'true-false',
                    question: 'while pode criar loops infinitos',
                    correctAnswer: 'true',
                    explanation: 'Se a condi√ß√£o nunca se tornar falsa, o loop √© infinito',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Qual comando sai do loop imediatamente?',
                    options: ['stop', 'exit', 'break', 'return'],
                    correctAnswer: 2,
                    explanation: 'break sai do loop atual',
                    points: 10,
                },
                {
                    id: 'q6',
                    type: 'multiple-choice',
                    question: 'O que continue faz?',
                    options: ['Sai do loop', 'Pula para pr√≥xima itera√ß√£o', 'Reinicia loop', 'Pausa loop'],
                    correctAnswer: 1,
                    explanation: 'continue pula para a pr√≥xima itera√ß√£o do loop',
                    points: 10,
                },
                {
                    id: 'q7',
                    type: 'multiple-choice',
                    question: 'for...in itera sobre:',
                    options: ['Valores', '√çndices/chaves', 'M√©todos', 'Tipos'],
                    correctAnswer: 1,
                    explanation: 'for...in itera sobre chaves/√≠ndices do objeto',
                    points: 15,
                },
                {
                    id: 'q8',
                    type: 'fill-blank',
                    question: 'Complete: for (let item ____ array) { }',
                    correctAnswer: 'of',
                    explanation: 'for...of itera sobre valores do array',
                    points: 15,
                },
                {
                    id: 'q9',
                    type: 'true-false',
                    question: 'forEach retorna um novo array',
                    correctAnswer: 'false',
                    explanation: 'forEach n√£o retorna nada. Use map para retornar array',
                    points: 10,
                },
                {
                    id: 'q10',
                    type: 'multiple-choice',
                    question: 'Qual a diferen√ßa entre for...in e for...of?',
                    options: ['S√£o iguais', 'in = chaves, of = valores', 'of = chaves, in = valores', 'S√≥ sintaxe'],
                    correctAnswer: 1,
                    explanation: 'for...in itera chaves, for...of itera valores',
                    points: 15,
                },
            ],
        },

    ],
};

// ============================================
// M√ìDULO 4: FUN√á√ïES
// ============================================

export const JS_FUNCOES: LearningModule = {
    id: 'js-funcoes',
    name: 'Fun√ß√µes',
    description: 'Declara√ß√£o, par√¢metros e arrow functions',
    icon: 'üîß',
    difficulty: 'intermediate',
    requiredXP: 600,
    lessons: [
        {
            id: 'funcoes-basicas',
            title: 'Fun√ß√µes B√°sicas',
            description: 'Fun√ß√µes, arrow functions, closures e callbacks',
            xpReward: 160,
            estimatedTime: 30,
            content: {
                introduction: 'Fun√ß√µes s√£o o cora√ß√£o do JavaScript. Elas permitem encapsular l√≥gica reutiliz√°vel, organizar c√≥digo e criar abstra√ß√µes poderosas. JavaScript trata fun√ß√µes como cidad√£s de primeira classe - podem ser passadas como valores, retornadas de outras fun√ß√µes e armazenadas em vari√°veis.',
                sections: [
                    {
                        title: 'Declarando Fun√ß√µes',
                        text: 'Existem tr√™s formas principais de criar fun√ß√µes: declara√ß√£o (hoisted), express√£o (n√£o hoisted) e arrow function (ES6). Cada uma tem suas caracter√≠sticas e casos de uso.',
                        code: '// 1. Declara√ß√£o de fun√ß√£o (hoisted)\nfunction saudacao(nome) {\n  return `Ol√°, ${nome}!`;\n}\n\n// 2. Express√£o de fun√ß√£o (n√£o hoisted)\nconst somar = function(a, b) {\n  return a + b;\n};\n\n// 3. Arrow function (ES6)\nconst multiplicar = (a, b) => a * b;\n\n// Hoisting: declara√ß√µes podem ser chamadas antes\nsaudar("Ana"); // funciona!\nfunction saudar(nome) {\n  console.log("Oi, " + nome);\n}\n\n// Express√µes N√ÉO podem\n// cumprimentar("Ana"); // ‚ùå erro!\nconst cumprimentar = function(nome) {};',
                    },
                    {
                        title: 'Par√¢metros e Retorno',
                        text: 'Fun√ß√µes recebem par√¢metros e retornam valores com return. Par√¢metros padr√£o evitam undefined. Rest parameter (...args) captura argumentos extras como array.',
                        code: '// Par√¢metros b√°sicos\nfunction area(largura, altura) {\n  return largura * altura;\n}\narea(5, 3); // 15\n\n// Par√¢metros padr√£o\nfunction saudar(nome = "Visitante", horario = "dia") {\n  return `Bom ${horario}, ${nome}!`;\n}\nsaudar();           // "Bom dia, Visitante!"\nsaudar("Ana");      // "Bom dia, Ana!"\nsaudar("Ana", "tarde"); // "Boa tarde, Ana!"\n\n// Rest parameter (...)\nfunction somaTotal(...numeros) {\n  return numeros.reduce((acc, n) => acc + n, 0);\n}\nsomaTotal(1, 2, 3, 4); // 10\n\n// Retorno impl√≠cito vs expl√≠cito\nfunction semRetorno() {\n  console.log("Ol√°");\n} // retorna undefined implicitamente',
                    },
                    {
                        title: 'Arrow Functions',
                        text: 'Arrow functions s√£o concisas e n√£o t√™m pr√≥prio this (herdam do contexto). Ideais para callbacks e fun√ß√µes curtas. Sintaxe: com um par√¢metro n√£o precisa de (), com corpo de uma linha n√£o precisa de {}.',
                        code: '// Sintaxe completa\nconst soma = (a, b) => {\n  return a + b;\n};\n\n// Um par√¢metro: par√™nteses opcionais\nconst dobro = n => n * 2;\n\n// Sem par√¢metros: par√™nteses obrigat√≥rios\nconst aleatorio = () => Math.random();\n\n// Retorno impl√≠cito (uma linha, sem {})\nconst quadrado = x => x * x;\n\n// Retornando objeto: use par√™nteses\nconst criarPessoa = (nome, idade) => ({ nome, idade });\n\n// ‚ö†Ô∏è Arrow functions e this\nconst obj = {\n  nome: "Ana",\n  tradicional: function() {\n    return this.nome; // "Ana" - this do obj\n  },\n  arrow: () => {\n    return this.nome; // undefined - this do contexto externo\n  }\n};\n// Use arrow em callbacks, fun√ß√£o tradicional em m√©todos de objeto',
                    },
                    {
                        title: 'Callbacks e Higher-Order Functions',
                        text: 'Fun√ß√µes que recebem ou retornam outras fun√ß√µes s√£o "higher-order". Callbacks s√£o fun√ß√µes passadas como argumento para serem executadas depois. Base de programa√ß√£o ass√≠ncrona e funcional.',
                        code: '// Callback b√°sico\nfunction processar(valor, callback) {\n  const resultado = callback(valor);\n  console.log(resultado);\n}\nprocessar(5, n => n * 2); // 10\n\n// Higher-order function que retorna fun√ß√£o\nfunction multiplicador(fator) {\n  return n => n * fator;\n}\nconst triplo = multiplicador(3);\ntriplo(5); // 15\n\n// Callbacks em m√©todos de array\nlet nums = [1, 2, 3, 4, 5];\nnums.map(n => n * 2);      // [2, 4, 6, 8, 10]\nnums.filter(n => n > 2);    // [3, 4, 5]\nnums.find(n => n > 3);      // 4\n\n// setTimeout com callback\nsetTimeout(() => {\n  console.log("Executado ap√≥s 1 segundo");\n}, 1000);',
                    },
                    {
                        title: 'Closures',
                        text: 'Closure √© quando uma fun√ß√£o "lembra" das vari√°veis do escopo onde foi criada, mesmo ap√≥s esse escopo terminar. Permite criar fun√ß√µes com estado privado e f√°bricas de fun√ß√µes.',
                        code: '// Closure b√°sico\nfunction criarContador() {\n  let contador = 0; // vari√°vel "fechada"\n  return function() {\n    contador++;\n    return contador;\n  };\n}\n\nconst contar = criarContador();\ncontar(); // 1\ncontar(); // 2\ncontar(); // 3\n// contador n√£o √© acess√≠vel de fora!\n\n// Closure para configura√ß√£o\nfunction criarLogger(prefixo) {\n  return function(msg) {\n    console.log(`[${prefixo}] ${msg}`);\n  };\n}\n\nconst logInfo = criarLogger("INFO");\nconst logErro = criarLogger("ERRO");\nlogInfo("Iniciando"); // [INFO] Iniciando\nlogErro("Falhou");    // [ERRO] Falhou',
                    },
                    {
                        title: 'IIFE e M√≥dulos',
                        text: 'IIFE (Immediately Invoked Function Expression) executa imediatamente e cria escopo privado. Era muito usada antes de ES6 modules. Ainda √∫til para evitar polui√ß√£o do escopo global.',
                        code: '// IIFE - executa imediatamente\n(function() {\n  let privado = "n√£o acess√≠vel fora";\n  console.log("Executei!");\n})();\n\n// IIFE com arrow function\n(() => {\n  console.log("IIFE arrow");\n})();\n\n// IIFE para criar m√≥dulo (padr√£o antigo)\nconst calculadora = (function() {\n  // privado\n  let historico = [];\n  \n  // p√∫blico (retornado)\n  return {\n    somar(a, b) {\n      historico.push(`${a}+${b}`);\n      return a + b;\n    },\n    getHistorico() {\n      return [...historico];\n    }\n  };\n})();\n\ncalculadora.somar(2, 3); // 5\ncalculadora.historico;   // undefined (privado)\ncalculadora.getHistorico(); // ["2+3"]',
                    },
                    {
                        title: 'Boas Pr√°ticas com Fun√ß√µes',
                        text: 'Fun√ß√µes devem fazer UMA coisa bem feita. Nomes devem ser verbos claros. Limite par√¢metros (use objeto se muitos). Fun√ß√µes puras (sem side effects) s√£o mais test√°veis e previs√≠veis.',
                        code: '// ‚ùå Fun√ß√£o faz muitas coisas\nfunction processarUsuario(dados) {\n  validar(dados);\n  salvarNoBanco(dados);\n  enviarEmail(dados);\n  loggar(dados);\n}\n\n// ‚úÖ Fun√ß√µes pequenas e focadas\nfunction validarDados(dados) { /*...*/ }\nfunction salvarUsuario(dados) { /*...*/ }\nfunction notificarUsuario(email) { /*...*/ }\n\n// ‚ùå Muitos par√¢metros\nfunction criarUsuario(nome, email, idade, cidade, pais, tel) {...}\n\n// ‚úÖ Objeto de op√ß√µes\nfunction criarUsuario({ nome, email, idade, cidade, pais, tel }) {...}\ncriarUsuario({ nome: "Ana", email: "ana@ex.com" });\n\n// ‚úÖ Fun√ß√£o pura (sem side effects)\nconst dobrar = n => n * 2;\n// Mesma entrada = mesma sa√≠da, sem modificar estado externo',
                    },
                ],
                tips: [
                    'Arrow functions n√£o t√™m pr√≥prio this - herdam do contexto',
                    'Use par√¢metros padr√£o ao inv√©s de verificar undefined',
                    'Closures s√£o poderosas mas podem causar memory leaks',
                    'Fun√ß√µes pequenas e focadas s√£o mais f√°ceis de testar',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual palavra-chave declara uma fun√ß√£o?',
                    options: ['func', 'function', 'def', 'fn'],
                    correctAnswer: 1,
                    explanation: 'function √© a palavra-chave para declarar fun√ß√µes',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'O que return faz em uma fun√ß√£o?',
                    options: ['Imprime valor', 'Retorna valor e encerra', 'Declara vari√°vel', 'Inicia loop'],
                    correctAnswer: 1,
                    explanation: 'return retorna um valor e encerra a fun√ß√£o',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'fill-blank',
                    question: 'Complete: function soma(a, b) { ____ a + b; }',
                    correctAnswer: 'return',
                    explanation: 'return retorna o resultado da fun√ß√£o',
                    points: 15,
                },
                {
                    id: 'q4',
                    type: 'true-false',
                    question: 'Fun√ß√µes podem ter par√¢metros com valores padr√£o',
                    correctAnswer: 'true',
                    explanation: 'Par√¢metros padr√£o s√£o definidos com = na declara√ß√£o',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Como chamar a fun√ß√£o saudacao("Jo√£o")?',
                    options: ['call saudacao("Jo√£o")', 'saudacao("Jo√£o")', 'run saudacao("Jo√£o")', 'saudacao: "Jo√£o"'],
                    correctAnswer: 1,
                    explanation: 'Fun√ß√µes s√£o chamadas pelo nome seguido de ()',
                    points: 10,
                },
                {
                    id: 'q6',
                    type: 'multiple-choice',
                    question: 'O que √© uma fun√ß√£o an√¥nima?',
                    options: ['Fun√ß√£o sem c√≥digo', 'Fun√ß√£o sem nome', 'Fun√ß√£o privada', 'Fun√ß√£o vazia'],
                    correctAnswer: 1,
                    explanation: 'Fun√ß√£o an√¥nima n√£o tem nome, usada como valor',
                    points: 10,
                },
                {
                    id: 'q7',
                    type: 'true-false',
                    question: 'Uma fun√ß√£o sem return retorna undefined',
                    correctAnswer: 'true',
                    explanation: 'Fun√ß√µes sem return expl√≠cito retornam undefined',
                    points: 15,
                },
                {
                    id: 'q8',
                    type: 'fill-blank',
                    question: 'Complete: const fn = ____(a) { return a * 2; }',
                    correctAnswer: 'function',
                    explanation: 'Express√£o de fun√ß√£o usando function',
                    points: 15,
                },
                {
                    id: 'q9',
                    type: 'multiple-choice',
                    question: 'Qual √© o escopo de par√¢metros de fun√ß√£o?',
                    options: ['Global', 'Local √† fun√ß√£o', 'Bloco', 'M√≥dulo'],
                    correctAnswer: 1,
                    explanation: 'Par√¢metros s√≥ existem dentro da fun√ß√£o',
                    points: 10,
                },
                {
                    id: 'q10',
                    type: 'multiple-choice',
                    question: 'O que √© recurs√£o?',
                    options: ['Loop infinito', 'Fun√ß√£o que chama a si mesma', 'Fun√ß√£o sem par√¢metros', 'Erro de JS'],
                    correctAnswer: 1,
                    explanation: 'Recurs√£o √© quando uma fun√ß√£o chama a si mesma',
                    points: 15,
                },
            ],
        },

        {
            id: 'arrow-functions',
            title: 'Arrow Functions',
            description: 'Sintaxe moderna e concisa para fun√ß√µes',
            xpReward: 100,
            estimatedTime: 15,
            content: {
                introduction: 'Arrow functions s√£o uma forma mais curta de escrever fun√ß√µes.',
                sections: [
                    {
                        title: 'Sintaxe Arrow',
                        text: 'Use => para criar arrow functions.',
                        code: 'const soma = (a, b) => a + b;\nconst dobro = n => n * 2;\nconst saudar = () => "Ol√°!";',
                    },
                    {
                        title: 'Com Bloco',
                        text: 'Para m√∫ltiplas linhas, use chaves e return.',
                        code: 'const calcular = (a, b) => {\n  const resultado = a + b;\n  return resultado * 2;\n};',
                    },
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual √© a sintaxe de arrow function?',
                    options: ['function =>', '() ->', '() =>', '=> ()'],
                    correctAnswer: 2,
                    explanation: 'Arrow functions usam () => { }',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'fill-blank',
                    question: 'Complete: const dobro = n ____ n * 2;',
                    correctAnswer: '=>',
                    explanation: '=> √© o operador arrow function',
                    points: 15,
                },
                {
                    id: 'q3',
                    type: 'true-false',
                    question: 'Arrow functions com uma express√£o precisam de return',
                    correctAnswer: 'false',
                    explanation: 'Return √© impl√≠cito para express√µes simples',
                    points: 10,
                },
                {
                    id: 'q4',
                    type: 'multiple-choice',
                    question: 'Quando usar chaves {} em arrow functions?',
                    options: ['Sempre', 'Nunca', 'Com m√∫ltiplas linhas', 'S√≥ com par√¢metros'],
                    correctAnswer: 2,
                    explanation: 'Chaves s√£o necess√°rias para m√∫ltiplas linhas de c√≥digo',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'const x = n => n * 2. Quantos par√™nteses s√£o necess√°rios?',
                    options: ['Nenhum (um par√¢metro)', 'Dois sempre', 'Quatro', 'Depende do navegador'],
                    correctAnswer: 0,
                    explanation: 'Com um par√¢metro, par√™nteses s√£o opcionais',
                    points: 10,
                },
            ],
        },
    ],
};

// ============================================
// M√ìDULO 5: DOM E EVENTOS
// ============================================

export const JS_DOM: LearningModule = {
    id: 'js-dom',
    name: 'DOM e Eventos',
    description: 'Manipule a p√°gina e responda a a√ß√µes do usu√°rio',
    icon: 'üñ±Ô∏è',
    difficulty: 'intermediate',
    requiredXP: 800,
    lessons: [
        {
            id: 'selecionando-dom',
            title: 'Selecionando Elementos',
            description: 'querySelector, navega√ß√£o DOM e performance',
            xpReward: 150,
            estimatedTime: 25,
            content: {
                introduction: 'O DOM (Document Object Model) representa a p√°gina HTML como uma √°rvore de objetos JavaScript. Saber selecionar elementos eficientemente √© a base de toda manipula√ß√£o da p√°gina. Vamos explorar desde m√©todos b√°sicos at√© t√©cnicas avan√ßadas de navega√ß√£o e performance.',
                sections: [
                    {
                        title: 'querySelector e querySelectorAll',
                        text: 'querySelector retorna o PRIMEIRO elemento que corresponde ao seletor CSS. querySelectorAll retorna TODOS os elementos como NodeList. S√£o os m√©todos mais vers√°teis e modernos.',
                        code: '// querySelector - primeiro elemento\nconst titulo = document.querySelector("h1");\nconst botao = document.querySelector(".btn");\nconst form = document.querySelector("#formulario");\nconst link = document.querySelector("nav a[href=\\"/sobre\\"]");\n\n// querySelectorAll - todos os elementos\nconst paragrafos = document.querySelectorAll("p");\nconst cards = document.querySelectorAll(".card");\n\n// NodeList √© iter√°vel\nparagrafos.forEach(p => {\n  console.log(p.textContent);\n});\n\n// Converter para array (mais m√©todos)\nconst arr = [...document.querySelectorAll("li")];\narr.filter(li => li.classList.contains("ativo"));',
                    },
                    {
                        title: 'M√©todos Cl√°ssicos',
                        text: 'getElementById √© o mais r√°pido para IDs. getElementsByClassName e getElementsByTagName retornam cole√ß√µes "vivas" (atualizam automaticamente). Use quando performance for cr√≠tica.',
                        code: '// getElementById - mais r√°pido para IDs\nconst header = document.getElementById("header");\n\n// getElementsByClassName - retorna HTMLCollection\nconst cards = document.getElementsByClassName("card");\n// ‚ö†Ô∏è HTMLCollection n√£o tem forEach!\nfor (let card of cards) {\n  console.log(card);\n}\n\n// getElementsByTagName - por tag\nconst links = document.getElementsByTagName("a");\n\n// Cole√ß√µes "vivas" - atualizam automaticamente\nconst items = document.getElementsByClassName("item");\nconsole.log(items.length); // 3\n// Se adicionar novo .item ao DOM:\nconsole.log(items.length); // 4 (atualiza!)\n\n// querySelectorAll √© "est√°tico" (snapshot)\nconst items2 = document.querySelectorAll(".item");\n// N√£o atualiza se DOM mudar',
                    },
                    {
                        title: 'Navega√ß√£o no DOM',
                        text: 'A partir de um elemento, voc√™ pode navegar para pais, filhos e irm√£os. Use parentElement, children, firstElementChild, nextElementSibling. Evite vers√µes com "Node" que incluem texto/coment√°rios.',
                        code: 'const item = document.querySelector(".item");\n\n// Navega√ß√£o para cima\nitem.parentElement;           // elemento pai\nitem.closest(".container");   // ancestral mais pr√≥ximo\n\n// Navega√ß√£o para baixo\nitem.children;                // HTMLCollection de filhos\nitem.firstElementChild;       // primeiro filho elemento\nitem.lastElementChild;        // √∫ltimo filho elemento\nitem.querySelector(".child"); // busca dentro\n\n// Navega√ß√£o lateral\nitem.nextElementSibling;      // pr√≥ximo irm√£o\nitem.previousElementSibling;  // irm√£o anterior\n\n// ‚ö†Ô∏è Evite: incluem n√≥s de texto\nitem.parentNode;     // pode ser texto\nitem.childNodes;     // inclui texto, coment√°rios\nitem.firstChild;     // pode ser \\n\n\n// closest() √© muito √∫til!\nbutton.closest("form"); // encontra formul√°rio pai',
                    },
                    {
                        title: 'matches() e closest()',
                        text: 'matches() verifica se elemento corresponde a um seletor. closest() encontra o ancestral mais pr√≥ximo. Ambos s√£o essenciais para delega√ß√£o de eventos e verifica√ß√µes eficientes.',
                        code: '// matches - verifica se corresponde ao seletor\nconst link = document.querySelector("a");\nlink.matches(".nav-link");  // true ou false\nlink.matches("[href^=\\"/\\"]"); // true se href come√ßa com /\n\n// Uso com filtro\nconst items = document.querySelectorAll("li");\nconst ativos = [...items].filter(el => el.matches(".ativo"));\n\n// closest - encontra ancestral\nconst btn = document.querySelector("button");\nbtn.closest("form");      // formul√°rio pai\nbtn.closest(".container"); // container ancestral\nbtn.closest("button");     // o pr√≥prio btn!\n\n// null se n√£o encontrar\nbtn.closest(".inexistente"); // null\n\n// Padr√£o comum em delega√ß√£o de eventos\ndocument.addEventListener("click", e => {\n  const card = e.target.closest(".card");\n  if (card) {\n    console.log("Clicou em um card");\n  }\n});',
                    },
                    {
                        title: 'Contexto de Busca',
                        text: 'Voc√™ pode chamar querySelector/querySelectorAll em qualquer elemento, n√£o s√≥ em document. Isso limita a busca aos descendentes, melhorando performance e precis√£o.',
                        code: '// Busca global\nconst inputs = document.querySelectorAll("input");\n\n// Busca dentro de um elemento\nconst form = document.querySelector("#meuForm");\nconst inputs = form.querySelectorAll("input");\n// S√≥ inputs DENTRO do form\n\n// Muito √∫til para componentes\nconst modal = document.querySelector(".modal");\nconst titulo = modal.querySelector("h2");\nconst btnFechar = modal.querySelector(".btn-fechar");\n\n// getElementById s√≥ funciona em document\n// ‚ùå element.getElementById() n√£o existe\n\n// contains() verifica se √© descendente\nconst container = document.querySelector(".container");\nconst botao = document.querySelector("button");\ncontainer.contains(botao); // true se bot√£o est√° dentro',
                    },
                    {
                        title: 'Verificando Exist√™ncia',
                        text: 'Sempre verifique se um elemento existe antes de manipul√°-lo. Use if, optional chaining (?.) ou atribui√ß√£o condicional. Evite erros de "Cannot read property of null".',
                        code: '// Problema comum\nconst el = document.querySelector(".talvez-exista");\nel.classList.add("ativo"); // ‚ùå Erro se el √© null!\n\n// Solu√ß√£o 1: if\nif (el) {\n  el.classList.add("ativo");\n}\n\n// Solu√ß√£o 2: optional chaining (moderno)\nel?.classList.add("ativo"); // n√£o faz nada se null\nel?.style.color = "red";    // seguro\n\n// Solu√ß√£o 3: curto-circuito\nel && el.classList.add("ativo");\n\n// Para NodeList vazia, forEach n√£o executa\nconst items = document.querySelectorAll(".nao-existe");\nitems.forEach(i => i.remove()); // OK, n√£o faz nada\n\n// Verificar se NodeList tem items\nif (items.length > 0) {\n  console.log("Encontrou elementos");\n}',
                    },
                    {
                        title: 'Performance e Caching',
                        text: 'Cache elementos que voc√™ usa repetidamente. Evite querySelector em loops. Prefira getElementById para IDs. Limite a busca ao contexto necess√°rio.',
                        code: '// ‚ùå Lento: busca repetida\nfor (let i = 0; i < 1000; i++) {\n  document.querySelector(".contador").textContent = i;\n}\n\n// ‚úÖ R√°pido: cache do elemento\nconst contador = document.querySelector(".contador");\nfor (let i = 0; i < 1000; i++) {\n  contador.textContent = i;\n}\n\n// ‚úÖ Cache de elementos frequentes\nconst DOM = {\n  header: document.querySelector("header"),\n  nav: document.querySelector("nav"),\n  main: document.querySelector("main"),\n  footer: document.querySelector("footer")\n};\n// Uso: DOM.header, DOM.nav, etc.\n\n// Compara√ß√£o de velocidade:\n// getElementById > querySelector > querySelectorAll\n// Use getElementById quando poss√≠vel para IDs\nconst el = document.getElementById("app"); // mais r√°pido\nconst el2 = document.querySelector("#app"); // mais vers√°til',
                    },
                ],
                tips: [
                    'querySelector √© vers√°til; getElementById √© mais r√°pido',
                    'Sempre cache elementos usados repetidamente',
                    'Use ?. para evitar erros com elementos null',
                    'closest() √© essencial para delega√ß√£o de eventos',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual m√©todo seleciona por seletor CSS?',
                    options: ['getElement()', 'querySelector()', 'select()', 'find()'],
                    correctAnswer: 1,
                    explanation: 'querySelector aceita qualquer seletor CSS',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'O que DOM significa?',
                    options: ['Document Object Model', 'Data Object Method', 'Direct Output Mode', 'Document Order Manager'],
                    correctAnswer: 0,
                    explanation: 'DOM = Document Object Model',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'fill-blank',
                    question: 'Complete: document.____("#menu")',
                    correctAnswer: 'querySelector',
                    explanation: 'querySelector seleciona elementos por seletor CSS',
                    points: 15,
                },
                {
                    id: 'q4',
                    type: 'true-false',
                    question: 'querySelectorAll retorna um array',
                    correctAnswer: 'false',
                    explanation: 'Retorna NodeList, semelhante mas n√£o id√™ntico a array',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Como selecionar elemento por ID com getElementById?',
                    options: ['getElementById("#id")', 'getElementById("id")', 'getElementById(".id")', 'getElementById(id)'],
                    correctAnswer: 1,
                    explanation: 'getElementById recebe apenas o nome do ID, sem #',
                    points: 10,
                },
            ],
        },
        {
            id: 'eventos-js',
            title: 'Eventos',
            description: 'addEventListener, propaga√ß√£o e delega√ß√£o',
            xpReward: 160,
            estimatedTime: 28,
            content: {
                introduction: 'Eventos permitem que seu c√≥digo responda √†s a√ß√µes do usu√°rio e do sistema. Do clique de um bot√£o ao carregamento da p√°gina, eventos s√£o a ponte entre a interface e a l√≥gica. Entender propaga√ß√£o e delega√ß√£o √© essencial para c√≥digo eficiente e organizado.',
                sections: [
                    {
                        title: 'addEventListener',
                        text: 'addEventListener √© a forma moderna de ligar eventos a elementos. Recebe o tipo de evento e uma fun√ß√£o callback. Voc√™ pode adicionar m√∫ltiplos listeners ao mesmo elemento, diferente de onclick que sobrescreve.',
                        code: 'const btn = document.querySelector("button");\n\n// Forma moderna\nbtn.addEventListener("click", () => {\n  console.log("Clicado!");\n});\n\n// M√∫ltiplos listeners no mesmo evento\nbtn.addEventListener("click", () => console.log("Handler 1"));\nbtn.addEventListener("click", () => console.log("Handler 2"));\n// Ambos executam!\n\n// ‚ùå Forma antiga (evite)\nbtn.onclick = () => console.log("Click");\n// Sobrescreve handlers anteriores\n\n// Evento com op√ß√µes\nbtn.addEventListener("click", handler, {\n  once: true,      // executa s√≥ uma vez\n  passive: true    // melhora performance de scroll\n});',
                    },
                    {
                        title: 'Objeto Event',
                        text: 'Todo handler recebe um objeto Event com informa√ß√µes sobre o evento. e.target √© o elemento que disparou, e.currentTarget √© onde o listener foi anexado. e.type indica o tipo de evento.',
                        code: 'btn.addEventListener("click", (e) => {\n  console.log(e.type);          // "click"\n  console.log(e.target);        // elemento clicado\n  console.log(e.currentTarget); // elemento com o listener\n  console.log(e.timeStamp);     // quando ocorreu\n});\n\n// Eventos de teclado\ndocument.addEventListener("keydown", (e) => {\n  console.log(e.key);   // "Enter", "a", "ArrowUp"\n  console.log(e.code);  // "Enter", "KeyA", "ArrowUp"\n  console.log(e.ctrlKey); // true se Ctrl pressionado\n  console.log(e.shiftKey); // true se Shift pressionado\n});\n\n// Eventos de mouse\nelem.addEventListener("mousemove", (e) => {\n  console.log(e.clientX, e.clientY); // posi√ß√£o do mouse\n});',
                    },
                    {
                        title: 'Eventos Comuns',
                        text: 'H√° dezenas de tipos de eventos. Os mais usados: click, submit, change, input, keydown/keyup, mouseenter/mouseleave, load, DOMContentLoaded. Escolha o evento certo para cada situa√ß√£o.',
                        code: '// Formul√°rio\nform.addEventListener("submit", (e) => {\n  e.preventDefault(); // impede envio padr√£o\n  console.log("Formul√°rio enviado");\n});\n\n// Input - a cada caractere\ninput.addEventListener("input", (e) => {\n  console.log(e.target.value);\n});\n\n// Change - ao perder foco com altera√ß√£o\ninput.addEventListener("change", (e) => {\n  console.log("Valor final:", e.target.value);\n});\n\n// P√°gina carregada\nwindow.addEventListener("DOMContentLoaded", () => {\n  console.log("DOM pronto!");\n});\n\n// Mouse hover\nelem.addEventListener("mouseenter", () => console.log("Entrou"));\nelem.addEventListener("mouseleave", () => console.log("Saiu"));',
                    },
                    {
                        title: 'Propaga√ß√£o: Bubbling e Capturing',
                        text: 'Eventos propagam em duas fases: capturing (descendo) e bubbling (subindo). Por padr√£o, listeners executam na fase bubbling. Use stopPropagation() para parar a propaga√ß√£o.',
                        code: '// HTML: <div id="pai"><button id="filho">Click</button></div>\n\nconst pai = document.querySelector("#pai");\nconst filho = document.querySelector("#filho");\n\n// Bubbling (padr√£o) - de dentro para fora\nfilho.addEventListener("click", () => console.log("1. Filho"));\npai.addEventListener("click", () => console.log("2. Pai"));\n// Clique no filho: "1. Filho", "2. Pai"\n\n// Capturing - de fora para dentro\npai.addEventListener("click", () => console.log("0. Pai cap"), true);\n// Clique no filho: "0. Pai cap", "1. Filho", "2. Pai"\n\n// Parar propaga√ß√£o\nfilho.addEventListener("click", (e) => {\n  e.stopPropagation(); // pai n√£o recebe\n  console.log("S√≥ filho");\n});',
                    },
                    {
                        title: 'Delega√ß√£o de Eventos',
                        text: 'Em vez de anexar eventos a cada elemento, anexe ao pai e use e.target para identificar qual filho foi clicado. Mais eficiente quando h√° muitos elementos ou quando s√£o adicionados dinamicamente.',
                        code: '// ‚ùå Ineficiente: listener para cada item\nconst items = document.querySelectorAll(".item");\nitems.forEach(item => {\n  item.addEventListener("click", () => {...});\n});\n\n// ‚úÖ Delega√ß√£o: um listener no pai\nconst lista = document.querySelector(".lista");\nlista.addEventListener("click", (e) => {\n  // Verifica se clicou em um item\n  if (e.target.matches(".item")) {\n    console.log("Item clicado:", e.target.textContent);\n  }\n  \n  // Ou encontra o item mais pr√≥ximo\n  const item = e.target.closest(".item");\n  if (item) {\n    console.log("Item:", item.dataset.id);\n  }\n});\n\n// Vantagens:\n// - Funciona para elementos adicionados depois\n// - Menos listeners = melhor performance\n// - C√≥digo mais centralizado',
                    },
                    {
                        title: 'Removendo Event Listeners',
                        text: 'Use removeEventListener para remover listeners. A fun√ß√£o deve ser a MESMA refer√™ncia usada no addEventListener. Por isso, n√£o use arrow functions an√¥nimas se precisar remover depois.',
                        code: '// ‚ùå N√£o funciona - fun√ß√µes diferentes\nbtn.addEventListener("click", () => console.log("A"));\nbtn.removeEventListener("click", () => console.log("A"));\n// S√£o fun√ß√µes distintas na mem√≥ria!\n\n// ‚úÖ Funciona - mesma refer√™ncia\nfunction handleClick() {\n  console.log("Click!");\n}\nbtn.addEventListener("click", handleClick);\nbtn.removeEventListener("click", handleClick); // remove\n\n// Alternativa: once\nbtn.addEventListener("click", () => {\n  console.log("S√≥ uma vez");\n}, { once: true }); // auto-remove ap√≥s executar\n\n// AbortController (moderno)\nconst controller = new AbortController();\nbtn.addEventListener("click", handler, { signal: controller.signal });\ncontroller.abort(); // remove o listener',
                    },
                    {
                        title: 'preventDefault e Padr√µes',
                        text: 'preventDefault() impede o comportamento padr√£o do navegador: links navegarem, forms enviarem, teclas digitarem. Use para criar comportamentos customizados.',
                        code: '// Links - prevenir navega√ß√£o\nlink.addEventListener("click", (e) => {\n  e.preventDefault();\n  console.log("Link interceptado");\n  // Fazer algo customizado\n});\n\n// Forms - prevenir envio\nform.addEventListener("submit", (e) => {\n  e.preventDefault();\n  // Validar e enviar via fetch\n  const data = new FormData(form);\n  fetch("/api", { method: "POST", body: data });\n});\n\n// Teclas - prevenir digita√ß√£o\ninput.addEventListener("keydown", (e) => {\n  if (e.key === "e") {\n    e.preventDefault(); // impede "e" de ser digitado\n  }\n});\n\n// Scroll - prevenir rolagem\nelem.addEventListener("wheel", (e) => {\n  e.preventDefault();\n}, { passive: false }); // passive: false necess√°rio',
                    },
                ],
                tips: [
                    'Use delega√ß√£o quando h√° muitos elementos similares',
                    'stopPropagation para a propaga√ß√£o; preventDefault para o comportamento',
                    'Guarde refer√™ncia da fun√ß√£o se precisar remover depois',
                    'e.target √© onde clicou; e.currentTarget √© onde est√° o listener',
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Qual m√©todo adiciona evento a um elemento?',
                    options: ['on()', 'addEvent()', 'addEventListener()', 'bind()'],
                    correctAnswer: 2,
                    explanation: 'addEventListener √© o m√©todo padr√£o para eventos',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'O que e.preventDefault() faz?',
                    options: ['Previne o comportamento padr√£o', 'Previne erros', 'Para a execu√ß√£o', 'Previne duplica√ß√£o'],
                    correctAnswer: 0,
                    explanation: 'preventDefault impede a a√ß√£o padr√£o do evento',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'fill-blank',
                    question: 'Complete: btn.addEventListener("____", handler)',
                    correctAnswer: 'click',
                    explanation: 'click √© o evento de clique do mouse',
                    points: 15,
                },
                {
                    id: 'q4',
                    type: 'true-false',
                    question: 'e.target retorna o elemento que disparou o evento',
                    correctAnswer: 'true',
                    explanation: 'e.target √© o elemento onde o evento ocorreu',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Qual evento √© disparado ao enviar formul√°rio?',
                    options: ['click', 'send', 'submit', 'post'],
                    correctAnswer: 2,
                    explanation: 'submit √© o evento de envio de formul√°rio',
                    points: 10,
                },
                {
                    id: 'q6',
                    type: 'multiple-choice',
                    question: 'Como obter o valor de um input no evento?',
                    options: ['e.value', 'e.target.value', 'e.input.value', 'e.text'],
                    correctAnswer: 1,
                    explanation: 'e.target.value acessa o valor do input',
                    points: 10,
                },
            ],
        },
    ],
};

// ============================================
// M√ìDULO 6: OBJETOS E M√âTODOS MODERNOS
// ============================================

export const JS_OBJETOS: LearningModule = {
    id: 'js-objetos',
    name: 'Objetos JavaScript',
    description: 'Objetos, m√©todos e desestrutura√ß√£o',
    icon: 'üì¶',
    difficulty: 'advanced',
    requiredXP: 1000,
    lessons: [
        {
            id: 'objetos-basicos',
            title: 'Objetos',
            description: 'Criando e manipulando objetos',
            xpReward: 120,
            estimatedTime: 18,
            content: {
                introduction: 'Objetos armazenam dados em pares chave-valor.',
                sections: [
                    {
                        title: 'Criando Objetos',
                        text: 'Use chaves {} para criar objetos.',
                        code: 'const pessoa = {\n  nome: "Maria",\n  idade: 30,\n  email: "maria@email.com"\n};',
                    },
                    {
                        title: 'Acessando Propriedades',
                        text: 'Use ponto ou colchetes para acessar.',
                        code: 'console.log(pessoa.nome); // "Maria"\nconsole.log(pessoa["idade"]); // 30\n\npessoa.cidade = "S√£o Paulo"; // adiciona',
                    },
                    {
                        title: 'M√©todos',
                        text: 'Objetos podem ter fun√ß√µes como propriedades.',
                        code: 'const usuario = {\n  nome: "Jo√£o",\n  saudar() {\n    return `Ol√°, sou ${this.nome}`;\n  }\n};\n\nconsole.log(usuario.saudar());',
                    },
                ],
            },
            quiz: [
                {
                    id: 'q1',
                    type: 'multiple-choice',
                    question: 'Como acessar propriedade "nome" de um objeto?',
                    options: ['objeto->nome', 'objeto.nome', 'objeto:nome', 'objeto(nome)'],
                    correctAnswer: 1,
                    explanation: 'Use ponto (.) para acessar propriedades',
                    points: 10,
                },
                {
                    id: 'q2',
                    type: 'multiple-choice',
                    question: 'O que "this" representa dentro de um m√©todo?',
                    options: ['A fun√ß√£o', 'O objeto', 'O documento', 'O window'],
                    correctAnswer: 1,
                    explanation: 'this referencia o objeto que cont√©m o m√©todo',
                    points: 10,
                },
                {
                    id: 'q3',
                    type: 'fill-blank',
                    question: 'Complete: const obj = { nome: "Ana", ____: 25 };',
                    correctAnswer: 'idade',
                    explanation: 'Propriedades s√£o pares chave: valor',
                    points: 15,
                },
                {
                    id: 'q4',
                    type: 'true-false',
                    question: 'Objetos s√£o mut√°veis mesmo com const',
                    correctAnswer: 'true',
                    explanation: 'const impede reatribui√ß√£o, n√£o muta√ß√£o',
                    points: 10,
                },
                {
                    id: 'q5',
                    type: 'multiple-choice',
                    question: 'Como adicionar propriedade a objeto existente?',
                    options: ['objeto.add("prop", valor)', 'objeto.prop = valor', 'objeto += prop', 'objeto.push(prop)'],
                    correctAnswer: 1,
                    explanation: 'objeto.propriedade = valor adiciona/modifica',
                    points: 10,
                },
            ],
        },
    ],
};

// ============================================
// EXPORTA√á√ÉO DOS M√ìDULOS JAVASCRIPT
// ============================================

export const JS_MODULES: LearningModule[] = [
    JS_FUNDAMENTOS,
    JS_TIPOS,
    JS_CONTROLE,
    JS_FUNCOES,
    JS_DOM,
    JS_OBJETOS,
];
